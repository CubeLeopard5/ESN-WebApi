Ì'
?C:\Users\micha\Projects\ESN-WebApi\Dal\UnitOfWork\UnitOfWork.cs
	namespace 	
Dal
 
. 

UnitOfWork 
; 
public 
class 

UnitOfWork 
( 
EsnDevContext %
context& -
)- .
:/ 0

Interfaces1 ;
.; <
IUnitOfWork< G
{ 
private !
IDbContextTransaction !
?! "
_transaction# /
;/ 0
public 

IEventRepository 
Events "
=># %
field 
??= 
new 
EventRepository %
(% &
context& -
)- .
;. /
public 
$
IEventTemplateRepository #
EventTemplates$ 2
=>3 5
field 
??= 
new #
EventTemplateRepository -
(- .
context. 5
)5 6
;6 7
public 

IUserRepository 
Users  
=>! #
field 
??= 
new 
UserRepository $
($ %
context% ,
), -
;- .
public 

ICalendarRepository 
	Calendars (
=>) +
field 
??= 
new 
CalendarRepository (
(( )
context) 0
)0 1
;1 2
public 
"
IPropositionRepository !
Propositions" .
=>/ 1
field 
??= 
new !
PropositionRepository +
(+ ,
context, 3
)3 4
;4 5
public 
(
IEventRegistrationRepository '
EventRegistrations( :
=>; =
field   
??=   
new   '
EventRegistrationRepository   1
(  1 2
context  2 9
)  9 :
;  : ;
public"" 
+
ICalendarSubOrganizerRepository"" *!
CalendarSubOrganizers""+ @
=>""A C
field## 
??=## 
new## *
CalendarSubOrganizerRepository## 4
(##4 5
context##5 <
)##< =
;##= >
public%% 

IRoleRepository%% 
Roles%%  
=>%%! #
field&& 
??=&& 
new&& 
RoleRepository&& $
(&&$ %
context&&% ,
)&&, -
;&&- .
public(( 
&
IPropositionVoteRepository(( %
PropositionVotes((& 6
=>((7 9
field)) 
??=)) 
new)) %
PropositionVoteRepository)) /
())/ 0
context))0 7
)))7 8
;))8 9
public++ 

async++ 
Task++ 
<++ 
int++ 
>++ 
SaveChangesAsync++ +
(+++ ,
)++, -
{,, 
return-- 
await-- 
context-- 
.-- 
SaveChangesAsync-- -
(--- .
)--. /
;--/ 0
}.. 
public00 

async00 
Task00 !
BeginTransactionAsync00 +
(00+ ,
)00, -
{11 
_transaction22 
=22 
await22 
context22 $
.22$ %
Database22% -
.22- .!
BeginTransactionAsync22. C
(22C D
)22D E
;22E F
}33 
public55 

async55 
Task55 "
CommitTransactionAsync55 ,
(55, -
)55- .
{66 
if77 

(77 
_transaction77 
!=77 
null77  
)77  !
{88 	
await99 
_transaction99 
.99 
CommitAsync99 *
(99* +
)99+ ,
;99, -
await:: 
_transaction:: 
.:: 
DisposeAsync:: +
(::+ ,
)::, -
;::- .
_transaction;; 
=;; 
null;; 
;;;  
}<< 	
}== 
public?? 

async?? 
Task?? $
RollbackTransactionAsync?? .
(??. /
)??/ 0
{@@ 
ifAA 

(AA 
_transactionAA 
!=AA 
nullAA  
)AA  !
{BB 	
awaitCC 
_transactionCC 
.CC 
RollbackAsyncCC ,
(CC, -
)CC- .
;CC. /
awaitDD 
_transactionDD 
.DD 
DisposeAsyncDD +
(DD+ ,
)DD, -
;DD- .
_transactionEE 
=EE 
nullEE 
;EE  
}FF 	
}GG 
publicII 

voidII 
DisposeII 
(II 
)II 
{JJ 
_transactionKK 
?KK 
.KK 
DisposeKK 
(KK 
)KK 
;KK  
GCMM 

.MM
 
SuppressFinalizeMM 
(MM 
thisMM  
)MM  !
;MM! "
}NN 
}OO ‚
KC:\Users\micha\Projects\ESN-WebApi\Dal\UnitOfWork\Interfaces\IUnitOfWork.cs
	namespace 	
Dal
 
. 

UnitOfWork 
. 

Interfaces #
;# $
public		 
	interface		 
IUnitOfWork		 
:		 
IDisposable		 *
{

 
IEventRepository 
Events 
{ 
get !
;! "
}# $$
IEventTemplateRepository 
EventTemplates +
{, -
get. 1
;1 2
}3 4
IUserRepository 
Users 
{ 
get 
;  
}! "
ICalendarRepository 
	Calendars !
{" #
get$ '
;' (
}) *"
IPropositionRepository 
Propositions '
{( )
get* -
;- .
}/ 0(
IEventRegistrationRepository  
EventRegistrations! 3
{4 5
get6 9
;9 :
}; <+
ICalendarSubOrganizerRepository #!
CalendarSubOrganizers$ 9
{: ;
get< ?
;? @
}A B
IRoleRepository 
Roles 
{ 
get 
;  
}! "&
IPropositionVoteRepository 
PropositionVotes /
{0 1
get2 5
;5 6
}7 8
Task 
< 	
int	 
> 
SaveChangesAsync 
( 
)  
;  !
Task !
BeginTransactionAsync	 
( 
)  
;  !
Task## "
CommitTransactionAsync##	 
(##  
)##  !
;##! "
Task(( $
RollbackTransactionAsync((	 !
(((! "
)((" #
;((# $
})) Â
OC:\Users\micha\Projects\ESN-WebApi\Dal\Specifications\SpecificationEvaluator.cs
	namespace 	
Dal
 
. 
Specifications 
; 
public		 
static		 
class		 "
SpecificationEvaluator		 *
<		* +
T		+ ,
>		, -
where		. 3
T		4 5
:		6 7
class		8 =
{

 
public 

static 

IQueryable 
< 
T 
> 
GetQuery  (
(( )

IQueryable) 3
<3 4
T4 5
>5 6

inputQuery7 A
,A B
ISpecificationC Q
<Q R
TR S
>S T
specificationU b
)b c
{ 
var 
query 
= 

inputQuery 
; 
if 

( 
specification 
. 
Criteria "
!=# %
null& *
)* +
{ 	
query 
= 
query 
. 
Where 
(  
specification  -
.- .
Criteria. 6
)6 7
;7 8
} 	
query 
= 
specification 
. 
Includes &
.& '
	Aggregate' 0
(0 1
query1 6
,6 7
(8 9
current9 @
,@ A
includeB I
)I J
=>K M
currentN U
.U V
IncludeV ]
(] ^
include^ e
)e f
)f g
;g h
query 
= 
specification 
. 
IncludeStrings ,
., -
	Aggregate- 6
(6 7
query7 <
,< =
(> ?
current? F
,F G
includeH O
)O P
=>Q S
currentT [
.[ \
Include\ c
(c d
included k
)k l
)l m
;m n
if 

( 
specification 
. 
OrderBy !
!=" $
null% )
)) *
{   	
query!! 
=!! 
query!! 
.!! 
OrderBy!! !
(!!! "
specification!!" /
.!!/ 0
OrderBy!!0 7
)!!7 8
;!!8 9
}"" 	
else## 
if## 
(## 
specification## 
.## 
OrderByDescending## 0
!=##1 3
null##4 8
)##8 9
{$$ 	
query%% 
=%% 
query%% 
.%% 
OrderByDescending%% +
(%%+ ,
specification%%, 9
.%%9 :
OrderByDescending%%: K
)%%K L
;%%L M
}&& 	
if)) 

()) 
specification)) 
.)) 
IsPagingEnabled)) )
)))) *
{** 	
query++ 
=++ 
query++ 
.++ 
Skip++ 
(++ 
specification++ ,
.++, -
Skip++- 1
)++1 2
.++2 3
Take++3 7
(++7 8
specification++8 E
.++E F
Take++F J
)++J K
;++K L
},, 	
return.. 
query.. 
;.. 
}// 
}00 ï
GC:\Users\micha\Projects\ESN-WebApi\Dal\Specifications\ISpecification.cs
	namespace 	
Dal
 
. 
Specifications 
; 
public

 
	interface

 
ISpecification

 
<

  
T

  !
>

! "
{ 

Expression 
< 
Func 
< 
T 
, 
bool 
> 
> 
? 
Criteria '
{( )
get* -
;- .
}/ 0
List 
< 	

Expression	 
< 
Func 
< 
T 
, 
object "
>" #
># $
>$ %
Includes& .
{/ 0
get1 4
;4 5
}6 7
List 
< 	
string	 
> 
IncludeStrings 
{  !
get" %
;% &
}' (

Expression 
< 
Func 
< 
T 
, 
object 
> 
> 
?  
OrderBy! (
{) *
get+ .
;. /
}0 1

Expression## 
<## 
Func## 
<## 
T## 
,## 
object## 
>## 
>## 
?##  
OrderByDescending##! 2
{##3 4
get##5 8
;##8 9
}##: ;
int(( 
Skip(( 
{(( 
get(( 
;(( 
}(( 
int-- 
Take-- 
{-- 
get-- 
;-- 
}-- 
bool22 
IsPagingEnabled22	 
{22 
get22 
;22 
}22  !
}33 ® 
LC:\Users\micha\Projects\ESN-WebApi\Dal\Specifications\EventSpecifications.cs
	namespace 	
Dal
 
. 
Specifications 
; 
public 
static 
class 
EventSpecifications '
{		 
public 

class *
EventsWithDetailsSpecification /
:0 1
BaseSpecification2 C
<C D
EventBoD K
>K L
{ 
public *
EventsWithDetailsSpecification -
(- .
). /
:0 1
base2 6
(6 7
)7 8
{ 	

AddInclude 
( 
e 
=> 
e 
. 
User "
)" #
;# $

AddInclude 
( 
e 
=> 
e 
. 
EventRegistrations 0
)0 1
;1 2"
ApplyOrderByDescending "
(" #
e# $
=>% '
e( )
.) *
	CreatedAt* 3
)3 4
;4 5
} 	
} 
public 

class -
!EventByIdWithDetailsSpecification 2
:3 4
BaseSpecification5 F
<F G
EventBoG N
>N O
{ 
public -
!EventByIdWithDetailsSpecification 0
(0 1
int1 4
eventId5 <
)< =
: 
base 
( 
e 
=> 
e 
. 
Id 
== 
eventId  '
)' (
{ 	

AddInclude 
( 
e 
=> 
e 
. 
User "
)" #
;# $

AddInclude   
(   
e   
=>   
e   
.   
EventRegistrations   0
)  0 1
;  1 2
}!! 	
}"" 
public'' 

class'' *
EventsByUserEmailSpecification'' /
:''0 1
BaseSpecification''2 C
<''C D
EventBo''D K
>''K L
{(( 
public)) *
EventsByUserEmailSpecification)) -
())- .
string)). 4
	userEmail))5 >
)))> ?
:** 
base** 
(** 
e** 
=>** 
e** 
.** 
User** 
.** 
Email** $
==**% '
	userEmail**( 1
)**1 2
{++ 	

AddInclude,, 
(,, 
e,, 
=>,, 
e,, 
.,, 
User,, "
),," #
;,,# $"
ApplyOrderByDescending-- "
(--" #
e--# $
=>--% '
e--( )
.--) *
	CreatedAt--* 3
)--3 4
;--4 5
}.. 	
}// 
public44 

class44 -
!EventsWithPaginationSpecification44 2
:443 4
BaseSpecification445 F
<44F G
EventBo44G N
>44N O
{55 
public66 -
!EventsWithPaginationSpecification66 0
(660 1
int661 4

pageNumber665 ?
,66? @
int66A D
pageSize66E M
)66M N
:77 
base77 
(77 
)77 
{88 	

AddInclude99 
(99 
e99 
=>99 
e99 
.99 
User99 "
)99" #
;99# $

AddInclude:: 
(:: 
e:: 
=>:: 
e:: 
.:: 
EventRegistrations:: 0
)::0 1
;::1 2"
ApplyOrderByDescending;; "
(;;" #
e;;# $
=>;;% '
e;;( )
.;;) *
	CreatedAt;;* 3
);;3 4
;;;4 5
ApplyPaging<< 
(<< 
(<< 

pageNumber<< #
-<<$ %
$num<<& '
)<<' (
*<<) *
pageSize<<+ 3
,<<3 4
pageSize<<5 =
)<<= >
;<<> ?
}== 	
}>> 
}?? °&
JC:\Users\micha\Projects\ESN-WebApi\Dal\Specifications\BaseSpecification.cs
	namespace 	
Dal
 
. 
Specifications 
; 
public		 
abstract		 
class		 
BaseSpecification		 '
<		' (
T		( )
>		) *
(		* +

Expression		+ 5
<		5 6
Func		6 :
<		: ;
T		; <
,		< =
bool		> B
>		B C
>		C D
?		D E
criteria		F N
=		O P
null		Q U
)		U V
:		W X
ISpecification		Y g
<		g h
T		h i
>		i j
{

 
public 


Expression 
< 
Func 
< 
T 
, 
bool "
>" #
># $
?$ %
Criteria& .
{/ 0
get1 4
;4 5
}6 7
=8 9
criteria: B
;B C
public 

List 
< 

Expression 
< 
Func 
<  
T  !
,! "
object# )
>) *
>* +
>+ ,
Includes- 5
{6 7
get8 ;
;; <
}= >
=? @
newA D
(D E
)E F
;F G
public 

List 
< 
string 
> 
IncludeStrings &
{' (
get) ,
;, -
}. /
=0 1
new2 5
(5 6
)6 7
;7 8
public 


Expression 
< 
Func 
< 
T 
, 
object $
>$ %
>% &
?& '
OrderBy( /
{0 1
get2 5
;5 6
private7 >
set? B
;B C
}D E
public 


Expression 
< 
Func 
< 
T 
, 
object $
>$ %
>% &
?& '
OrderByDescending( 9
{: ;
get< ?
;? @
privateA H
setI L
;L M
}N O
public 

int 
Skip 
{ 
get 
; 
private "
set# &
;& '
}( )
public 

int 
Take 
{ 
get 
; 
private "
set# &
;& '
}( )
public 

bool 
IsPagingEnabled 
{  !
get" %
;% &
private' .
set/ 2
;2 3
}4 5
	protected 
virtual 
void 

AddInclude %
(% &

Expression& 0
<0 1
Func1 5
<5 6
T6 7
,7 8
object9 ?
>? @
>@ A
includeExpressionB S
)S T
{ 
Includes   
.   
Add   
(   
includeExpression   &
)  & '
;  ' (
}!! 
	protected&& 
virtual&& 
void&& 

AddInclude&& %
(&&% &
string&&& ,
includeString&&- :
)&&: ;
{'' 
IncludeStrings(( 
.(( 
Add(( 
((( 
includeString(( (
)((( )
;(() *
})) 
	protected.. 
virtual.. 
void.. 
ApplyOrderBy.. '
(..' (

Expression..( 2
<..2 3
Func..3 7
<..7 8
T..8 9
,..9 :
object..; A
>..A B
>..B C
orderByExpression..D U
)..U V
{// 
OrderBy00 
=00 
orderByExpression00 #
;00# $
}11 
	protected66 
virtual66 
void66 "
ApplyOrderByDescending66 1
(661 2

Expression662 <
<66< =
Func66= A
<66A B
T66B C
,66C D
object66E K
>66K L
>66L M'
orderByDescendingExpression66N i
)66i j
{77 
OrderByDescending88 
=88 '
orderByDescendingExpression88 7
;887 8
}99 
	protected>> 
virtual>> 
void>> 
ApplyPaging>> &
(>>& '
int>>' *
skip>>+ /
,>>/ 0
int>>1 4
take>>5 9
)>>9 :
{?? 
Skip@@ 
=@@ 
skip@@ 
;@@ 
TakeAA 
=AA 
takeAA 
;AA 
IsPagingEnabledBB 
=BB 
trueBB 
;BB 
}CC 
}DD ≠(
?C:\Users\micha\Projects\ESN-WebApi\Dal\Seeds\InitialDataSeed.cs
	namespace 	
Dal
 
. 
Seeds 
; 
public 
static 
class 
InitialDataSeed #
{ 
public 

static 
void 
SeedInitialData &
(& '
ModelBuilder' 3
modelBuilder4 @
)@ A
{ 
var 
	adminRole 
= 
new 
RoleBo "
{ 	
Id 
= 
$num 
, 
Name 
= 
UserRole 
. 
Admin !
,! "
CanCreateEvents 
= 
true "
," #
CanModifyEvents 
= 
true "
," #
CanDeleteEvents 
= 
true "
," #
CanCreateUsers 
= 
true !
,! "
CanModifyUsers 
= 
true !
,! "
CanDeleteUsers   
=   
true   !
}!! 	
;!!	 

var## 
userRole## 
=## 
new## 
RoleBo## !
{$$ 	
Id%% 
=%% 
$num%% 
,%% 
Name&& 
=&& 
UserRole&& 
.&& 
User&&  
,&&  !
CanCreateEvents'' 
='' 
false'' #
,''# $
CanModifyEvents(( 
=(( 
false(( #
,((# $
CanDeleteEvents)) 
=)) 
false)) #
,))# $
CanCreateUsers** 
=** 
false** "
,**" #
CanModifyUsers++ 
=++ 
false++ "
,++" #
CanDeleteUsers,, 
=,, 
false,, "
}-- 	
;--	 

var// 
moderatorRole// 
=// 
new// 
RoleBo//  &
{00 	
Id11 
=11 
$num11 
,11 
Name22 
=22 
UserRole22 
.22 
	Moderator22 %
,22% &
CanCreateEvents33 
=33 
true33 "
,33" #
CanModifyEvents44 
=44 
true44 "
,44" #
CanDeleteEvents55 
=55 
false55 #
,55# $
CanCreateUsers66 
=66 
false66 "
,66" #
CanModifyUsers77 
=77 
true77 !
,77! "
CanDeleteUsers88 
=88 
false88 "
}99 	
;99	 

modelBuilder;; 
.;; 
Entity;; 
<;; 
RoleBo;; "
>;;" #
(;;# $
);;$ %
.;;% &
HasData;;& -
(;;- .
	adminRole;;. 7
,;;7 8
userRole;;9 A
,;;A B
moderatorRole;;C P
);;P Q
;;;Q R
var@@ 
	adminUser@@ 
=@@ 
new@@ 
UserBo@@ "
{AA 	
IdBB 
=BB 
$numBB 
,BB 
EmailCC 
=CC 
$strCC "
,CC" #
	FirstNameDD 
=DD 
$strDD 
,DD  
LastNameEE 
=EE 
$strEE 
,EE 
	BirthDateFF 
=FF 
newFF 
DateTimeFF $
(FF$ %
$numFF% )
,FF) *
$numFF+ ,
,FF, -
$numFF. /
)FF/ 0
,FF0 1
PhoneNumberGG 
=GG 
$strGG ,
,GG, -
StudentTypeHH 
=HH 
BoHH 
.HH 
	ConstantsHH &
.HH& '
StudentTypeHH' 2
.HH2 3
	EsnMemberHH3 <
,HH< =
RoleIdII 
=II 
$numII 
,II 
StatusJJ 
=JJ 

UserStatusJJ 
.JJ  
ApprovedJJ  (
,JJ( )
	CreatedAtKK 
=KK 
newKK 
DateTimeKK $
(KK$ %
$numKK% )
,KK) *
$numKK+ ,
,KK, -
$numKK. 0
,KK0 1
$numKK2 3
,KK3 4
$numKK5 6
,KK6 7
$numKK8 9
,KK9 :
DateTimeKindKK; G
.KKG H
UtcKKH K
)KKK L
,KKL M
LastLoginAtLL 
=LL 
newLL 
DateTimeLL &
(LL& '
$numLL' +
,LL+ ,
$numLL- .
,LL. /
$numLL0 2
,LL2 3
$numLL4 5
,LL5 6
$numLL7 8
,LL8 9
$numLL: ;
,LL; <
DateTimeKindLL= I
.LLI J
UtcLLJ M
)LLM N
,LLN O
PasswordHashNN 
=NN 
$strNN o
}OO 	
;OO	 

modelBuilderQQ 
.QQ 
EntityQQ 
<QQ 
UserBoQQ "
>QQ" #
(QQ# $
)QQ$ %
.QQ% &
HasDataQQ& -
(QQ- .
	adminUserQQ. 7
)QQ7 8
;QQ8 9
}RR 
}SS Ï@
>C:\Users\micha\Projects\ESN-WebApi\Dal\Seeds\DatabaseSeeder.cs
	namespace 	
Dal
 
. 
Seeds 
; 
public 
class 
DatabaseSeeder 
{ 
private 
readonly 
EsnDevContext "
_context# +
;+ ,
private 
readonly 
ILogger 
< 
DatabaseSeeder +
>+ ,
_logger- 4
;4 5
public 

DatabaseSeeder 
( 
EsnDevContext '
context( /
,/ 0
ILogger1 8
<8 9
DatabaseSeeder9 G
>G H
loggerI O
)O P
{ 
_context 
= 
context 
; 
_logger 
= 
logger 
; 
} 
public 

async 
Task 
	SeedAsync 
(  
)  !
{ 
try 
{ 	
var   

rolesExist   
=   
await   "
_context  # +
.  + ,
Roles  , 1
.  1 2
AnyAsync  2 :
(  : ;
)  ; <
;  < =
if"" 
("" 
!"" 

rolesExist"" 
)"" 
{## 
_logger$$ 
.$$ 
LogInformation$$ &
($$& '
$str$$' 9
)$$9 :
;$$: ;
var&& 
roles&& 
=&& 
new&& 
List&&  $
<&&$ %
RoleBo&&% +
>&&+ ,
{'' 
new(( 
RoleBo(( 
{)) 
Name** 
=** 
UserRole** '
.**' (
Admin**( -
,**- .
CanCreateEvents++ '
=++( )
true++* .
,++. /
CanModifyEvents,, '
=,,( )
true,,* .
,,,. /
CanDeleteEvents-- '
=--( )
true--* .
,--. /
CanCreateUsers.. &
=..' (
true..) -
,..- .
CanModifyUsers// &
=//' (
true//) -
,//- .
CanDeleteUsers00 &
=00' (
true00) -
}11 
,11 
new22 
RoleBo22 
{33 
Name44 
=44 
UserRole44 '
.44' (
User44( ,
,44, -
CanCreateEvents55 '
=55( )
false55* /
,55/ 0
CanModifyEvents66 '
=66( )
false66* /
,66/ 0
CanDeleteEvents77 '
=77( )
false77* /
,77/ 0
CanCreateUsers88 &
=88' (
false88) .
,88. /
CanModifyUsers99 &
=99' (
false99) .
,99. /
CanDeleteUsers:: &
=::' (
false::) .
};; 
,;; 
new<< 
RoleBo<< 
{== 
Name>> 
=>> 
UserRole>> '
.>>' (
	Moderator>>( 1
,>>1 2
CanCreateEvents?? '
=??( )
true??* .
,??. /
CanModifyEvents@@ '
=@@( )
true@@* .
,@@. /
CanDeleteEventsAA '
=AA( )
falseAA* /
,AA/ 0
CanCreateUsersBB &
=BB' (
falseBB) .
,BB. /
CanModifyUsersCC &
=CC' (
trueCC) -
,CC- .
CanDeleteUsersDD &
=DD' (
falseDD) .
}EE 
}FF 
;FF 
awaitHH 
_contextHH 
.HH 
RolesHH $
.HH$ %
AddRangeAsyncHH% 2
(HH2 3
rolesHH3 8
)HH8 9
;HH9 :
awaitII 
_contextII 
.II 
SaveChangesAsyncII /
(II/ 0
)II0 1
;II1 2
_loggerKK 
.KK 
LogInformationKK &
(KK& '
$strKK' B
)KKB C
;KKC D
}LL 
elseMM 
{NN 
_loggerOO 
.OO 
LogInformationOO &
(OO& '
$strOO' K
)OOK L
;OOL M
}PP 
varSS 
adminExistsSS 
=SS 
awaitSS #
_contextSS$ ,
.SS, -
UsersSS- 2
.TT 
AnyAsyncTT 
(TT 
uTT 
=>TT 
uTT  
.TT  !
EmailTT! &
==TT' )
$strTT* 8
)TT8 9
;TT9 :
ifVV 
(VV 
!VV 
adminExistsVV 
)VV 
{WW 
_loggerXX 
.XX 
LogInformationXX &
(XX& '
$strXX' F
)XXF G
;XXG H
var[[ 
	adminRole[[ 
=[[ 
await[[  %
_context[[& .
.[[. /
Roles[[/ 4
.\\ 
FirstOrDefaultAsync\\ (
(\\( )
r\\) *
=>\\+ -
r\\. /
.\\/ 0
Name\\0 4
==\\5 7
UserRole\\8 @
.\\@ A
Admin\\A F
)\\F G
;\\G H
if^^ 
(^^ 
	adminRole^^ 
==^^  
null^^! %
)^^% &
{__ 
_logger`` 
.`` 
LogError`` $
(``$ %
$str``% U
)``U V
;``V W
returnaa 
;aa 
}bb 
varee 
hasheree 
=ee 
newee  
PasswordHasheree! /
<ee/ 0
UserBoee0 6
>ee6 7
(ee7 8
)ee8 9
;ee9 :
varff 
passwordHashff  
=ff! "
hasherff# )
.ff) *
HashPasswordff* 6
(ff6 7
nullff7 ;
!ff; <
,ff< =
$strff> I
)ffI J
;ffJ K
varhh 
	adminUserhh 
=hh 
newhh  #
UserBohh$ *
{ii 
Emailjj 
=jj 
$strjj *
,jj* +
	FirstNamekk 
=kk 
$strkk  '
,kk' (
LastNamell 
=ll 
$strll $
,ll$ %
	BirthDatemm 
=mm 
newmm  #
DateTimemm$ ,
(mm, -
$nummm- 1
,mm1 2
$nummm3 4
,mm4 5
$nummm6 7
)mm7 8
,mm8 9
PhoneNumbernn 
=nn  !
$strnn" 4
,nn4 5
StudentTypeoo 
=oo  !
Booo" $
.oo$ %
	Constantsoo% .
.oo. /
StudentTypeoo/ :
.oo: ;
	EsnMemberoo; D
,ooD E
RoleIdpp 
=pp 
	adminRolepp &
.pp& '
Idpp' )
,pp) *
Statusqq 
=qq 

UserStatusqq '
.qq' (
Approvedqq( 0
,qq0 1
	CreatedAtrr 
=rr 
DateTimerr  (
.rr( )
UtcNowrr) /
,rr/ 0
LastLoginAtss 
=ss  !
DateTimess" *
.ss* +
UtcNowss+ 1
,ss1 2
PasswordHashtt  
=tt! "
passwordHashtt# /
}uu 
;uu 
awaitww 
_contextww 
.ww 
Usersww $
.ww$ %
AddAsyncww% -
(ww- .
	adminUserww. 7
)ww7 8
;ww8 9
awaitxx 
_contextxx 
.xx 
SaveChangesAsyncxx /
(xx/ 0
)xx0 1
;xx1 2
_loggerzz 
.zz 
LogInformationzz &
(zz& '
$strzz' i
)zzi j
;zzj k
_logger{{ 
.{{ 

LogWarning{{ "
({{" #
$str{{# v
){{v w
;{{w x
}|| 
else}} 
{~~ 
_logger 
. 
LogInformation &
(& '
$str' Y
)Y Z
;Z [
}
ÄÄ 
}
ÅÅ 	
catch
ÇÇ 
(
ÇÇ 
	Exception
ÇÇ 
ex
ÇÇ 
)
ÇÇ 
{
ÉÉ 	
_logger
ÑÑ 
.
ÑÑ 
LogError
ÑÑ 
(
ÑÑ 
ex
ÑÑ 
,
ÑÑ  
$str
ÑÑ! H
)
ÑÑH I
;
ÑÑI J
throw
ÖÖ 
;
ÖÖ 
}
ÜÜ 	
}
áá 
}àà Â$
EC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\UserRepository.cs
	namespace 	
Dal
 
. 
Repositories 
; 
public 
class 
UserRepository 
( 
EsnDevContext )
context* 1
)1 2
: 

Repository 
< 
UserBo 
> 
( 
context  
)  !
,! "
IUserRepository# 2
{ 
public 

async 
Task 
< 
UserBo 
? 
> 
GetByEmailAsync .
(. /
string/ 5
email6 ;
); <
{ 
return 
await 
_dbSet 
. 
FirstOrDefaultAsync  
(  !
u! "
=># %
u& '
.' (
Email( -
==. 0
email1 6
)6 7
;7 8
} 
public 

async 
Task 
< 
UserBo 
? 
> #
GetByEmailWithRoleAsync 6
(6 7
string7 =
email> C
)C D
{ 
return 
await 
_dbSet 
. 
Include 
( 
u 
=> 
u 
. 
Role  
)  !
. 
FirstOrDefaultAsync  
(  !
u! "
=># %
u& '
.' (
Email( -
==. 0
email1 6
)6 7
;7 8
} 
public 

async 
Task 
< 
UserBo 
? 
>  
GetUserWithRoleAsync 3
(3 4
int4 7
userId8 >
)> ?
{ 
return 
await 
_dbSet 
. 
Include 
( 
u 
=> 
u 
. 
Role  
)  !
. 
FirstOrDefaultAsync  
(  !
u! "
=># %
u& '
.' (
Id( *
==+ -
userId. 4
)4 5
;5 6
}   
public"" 

async"" 
Task"" 
<"" 
IEnumerable"" !
<""! "
UserBo""" (
>""( )
>"") *
GetEsnMembersAsync""+ =
(""= >
)""> ?
{## 
return$$ 
await$$ 
_dbSet$$ 
.%% 
Where%% 
(%% 
u%% 
=>%% 
u%% 
.%% 
StudentType%% %
==%%& (
StudentType%%) 4
.%%4 5
	EsnMember%%5 >
)%%> ?
.&& 
ToListAsync&& 
(&& 
)&& 
;&& 
}'' 
public)) 

async)) 
Task)) 
<)) 
bool)) 
>)) 
EmailExistsAsync)) ,
()), -
string))- 3
email))4 9
)))9 :
{** 
return++ 
await++ 
_dbSet++ 
.++ 
AnyAsync++ $
(++$ %
u++% &
=>++' )
u++* +
.+++ ,
Email++, 1
==++2 4
email++5 :
)++: ;
;++; <
},, 
public.. 

async.. 
Task.. 
<.. 
(.. 
List.. 
<.. 
UserBo.. "
>.." #
Items..$ )
,..) *
int..+ .

TotalCount../ 9
)..9 :
>..: ;
GetPagedAsync..< I
(..I J
int..J M
skip..N R
,..R S
int..T W
take..X \
)..\ ]
{// 
var00 

totalCount00 
=00 
await00 
_dbSet00 %
.00% &

CountAsync00& 0
(000 1
)001 2
;002 3
var22 
items22 
=22 
await22 
_dbSet22  
.33 
OrderByDescending33 
(33 
u33  
=>33! #
u33$ %
.33% &
Id33& (
)33( )
.44 
Skip44 
(44 
skip44 
)44 
.55 
Take55 
(55 
take55 
)55 
.66 
ToListAsync66 
(66 
)66 
;66 
return88 
(88 
items88 
,88 

totalCount88 !
)88! "
;88" #
}99 
}:: Á
EC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\RoleRepository.cs
	namespace 	
Dal
 
. 
Repositories 
; 
public

 
class

 
RoleRepository

 
(

 
EsnDevContext

 )
context

* 1
)

1 2
:

3 4

Repository

5 ?
<

? @
RoleBo

@ F
>

F G
(

G H
context

H O
)

O P
,

P Q
IRoleRepository

R a
{ 
public 

async 
Task 
< 
RoleBo 
? 
> 
GetByNameAsync -
(- .
string. 4
name5 9
)9 :
{ 
return 
await 
context 
. 
Roles "
. 
FirstOrDefaultAsync  
(  !
r! "
=># %
r& '
.' (
Name( ,
==- /
name0 4
)4 5
;5 6
} 
public 

async 
Task 
< 
IEnumerable !
<! "
RoleBo" (
>( )
>) *
GetActiveRolesAsync+ >
(> ?
)? @
{ 
return 
await 
context 
. 
Roles "
." #
ToListAsync# .
(. /
)/ 0
;0 1
} 
public 

async 
Task 
< 
bool 
> 
ExistsByNameAsync -
(- .
string. 4
name5 9
)9 :
{ 
return 
await 
context 
. 
Roles "
. 
AnyAsync 
( 
r 
=> 
r 
. 
Name !
==" $
name% )
)) *
;* +
} 
} œF
AC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\Repository.cs
	namespace 	
Dal
 
. 
Repositories 
; 
public 
class 

Repository 
< 
T 
> 
( 
EsnDevContext (
context) 0
)0 1
:2 3
IRepository4 ?
<? @
T@ A
>A B
where 	
T
 
: 
class 
{ 
	protected 
readonly 
EsnDevContext $
_context% -
=. /
context0 7
;7 8
	protected 
readonly 
DbSet 
< 
T 
> 
_dbSet  &
=' (
context) 0
.0 1
Set1 4
<4 5
T5 6
>6 7
(7 8
)8 9
;9 :
public 

virtual 
async 
Task 
< 
T 
?  
>  !
GetByIdAsync" .
(. /
int/ 2
id3 5
)5 6
{ 
return 
await 
_dbSet 
. 
	FindAsync %
(% &
id& (
)( )
;) *
} 
public 

virtual 
async 
Task 
< 
IEnumerable )
<) *
T* +
>+ ,
>, -
GetAllAsync. 9
(9 :
): ;
{ 
return 
await 
_dbSet 
. 
ToListAsync '
(' (
)( )
;) *
} 
public 

virtual 
async 
Task 
< 
IEnumerable )
<) *
T* +
>+ ,
>, -
	FindAsync. 7
(7 8

Expression8 B
<B C
FuncC G
<G H
TH I
,I J
boolK O
>O P
>P Q
	predicateR [
)[ \
{ 
return 
await 
_dbSet 
. 
Where !
(! "
	predicate" +
)+ ,
., -
ToListAsync- 8
(8 9
)9 :
;: ;
} 
public!! 

virtual!! 
async!! 
Task!! 
<!! 
T!! 
?!!  
>!!  !
FirstOrDefaultAsync!!" 5
(!!5 6

Expression!!6 @
<!!@ A
Func!!A E
<!!E F
T!!F G
,!!G H
bool!!I M
>!!M N
>!!N O
	predicate!!P Y
)!!Y Z
{"" 
return## 
await## 
_dbSet## 
.## 
FirstOrDefaultAsync## /
(##/ 0
	predicate##0 9
)##9 :
;##: ;
}$$ 
public&& 

virtual&& 
async&& 
Task&& 
<&& 
int&& !
>&&! "

CountAsync&&# -
(&&- .

Expression&&. 8
<&&8 9
Func&&9 =
<&&= >
T&&> ?
,&&? @
bool&&A E
>&&E F
>&&F G
?&&G H
	predicate&&I R
=&&S T
null&&U Y
)&&Y Z
{'' 
return(( 
	predicate(( 
==(( 
null((  
?)) 
await)) 
_dbSet)) 
.)) 

CountAsync)) %
())% &
)))& '
:** 
await** 
_dbSet** 
.** 

CountAsync** %
(**% &
	predicate**& /
)**/ 0
;**0 1
}++ 
public-- 

virtual-- 
async-- 
Task-- 
<-- 
bool-- "
>--" #
AnyAsync--$ ,
(--, -

Expression--- 7
<--7 8
Func--8 <
<--< =
T--= >
,--> ?
bool--@ D
>--D E
>--E F
	predicate--G P
)--P Q
{.. 
return// 
await// 
_dbSet// 
.// 
AnyAsync// $
(//$ %
	predicate//% .
)//. /
;/// 0
}00 
public22 

virtual22 
async22 
Task22 
<22 
IEnumerable22 )
<22) *
T22* +
>22+ ,
>22, -&
FindWithSpecificationAsync22. H
(22H I
ISpecification22I W
<22W X
T22X Y
>22Y Z
specification22[ h
)22h i
{33 
var44 
query44 
=44 "
SpecificationEvaluator44 *
<44* +
T44+ ,
>44, -
.44- .
GetQuery44. 6
(446 7
_dbSet447 =
.44= >
AsQueryable44> I
(44I J
)44J K
,44K L
specification44M Z
)44Z [
;44[ \
return55 
await55 
query55 
.55 
ToListAsync55 &
(55& '
)55' (
;55( )
}66 
public88 

virtual88 
async88 
Task88 
<88 
T88 
?88  
>88  !0
$FirstOrDefaultWithSpecificationAsync88" F
(88F G
ISpecification88G U
<88U V
T88V W
>88W X
specification88Y f
)88f g
{99 
var:: 
query:: 
=:: "
SpecificationEvaluator:: *
<::* +
T::+ ,
>::, -
.::- .
GetQuery::. 6
(::6 7
_dbSet::7 =
.::= >
AsQueryable::> I
(::I J
)::J K
,::K L
specification::M Z
)::Z [
;::[ \
return;; 
await;; 
query;; 
.;; 
FirstOrDefaultAsync;; .
(;;. /
);;/ 0
;;;0 1
}<< 
public>> 

virtual>> 
async>> 
Task>> 
<>> 
int>> !
>>>! "'
CountWithSpecificationAsync>># >
(>>> ?
ISpecification>>? M
<>>M N
T>>N O
>>>O P
specification>>Q ^
)>>^ _
{?? 
var@@ 
query@@ 
=@@ "
SpecificationEvaluator@@ *
<@@* +
T@@+ ,
>@@, -
.@@- .
GetQuery@@. 6
(@@6 7
_dbSet@@7 =
.@@= >
AsQueryable@@> I
(@@I J
)@@J K
,@@K L
specification@@M Z
)@@Z [
;@@[ \
returnAA 
awaitAA 
queryAA 
.AA 

CountAsyncAA %
(AA% &
)AA& '
;AA' (
}BB 
publicDD 

virtualDD 
asyncDD 
TaskDD 
<DD 
TDD 
>DD  
AddAsyncDD! )
(DD) *
TDD* +
entityDD, 2
)DD2 3
{EE 
awaitFF 
_dbSetFF 
.FF 
AddAsyncFF 
(FF 
entityFF $
)FF$ %
;FF% &
returnGG 
entityGG 
;GG 
}HH 
publicJJ 

virtualJJ 
asyncJJ 
TaskJJ 
AddRangeAsyncJJ +
(JJ+ ,
IEnumerableJJ, 7
<JJ7 8
TJJ8 9
>JJ9 :
entitiesJJ; C
)JJC D
{KK 
awaitLL 
_dbSetLL 
.LL 
AddRangeAsyncLL "
(LL" #
entitiesLL# +
)LL+ ,
;LL, -
}MM 
publicOO 

virtualOO 
voidOO 
UpdateOO 
(OO 
TOO  
entityOO! '
)OO' (
{PP 
_dbSetQQ 
.QQ 
UpdateQQ 
(QQ 
entityQQ 
)QQ 
;QQ 
}RR 
publicTT 

virtualTT 
voidTT 
UpdateRangeTT #
(TT# $
IEnumerableTT$ /
<TT/ 0
TTT0 1
>TT1 2
entitiesTT3 ;
)TT; <
{UU 
_dbSetVV 
.VV 
UpdateRangeVV 
(VV 
entitiesVV #
)VV# $
;VV$ %
}WW 
publicYY 

virtualYY 
voidYY 
DeleteYY 
(YY 
TYY  
entityYY! '
)YY' (
{ZZ 
_dbSet[[ 
.[[ 
Remove[[ 
([[ 
entity[[ 
)[[ 
;[[ 
}\\ 
public^^ 

virtual^^ 
void^^ 
DeleteRange^^ #
(^^# $
IEnumerable^^$ /
<^^/ 0
T^^0 1
>^^1 2
entities^^3 ;
)^^; <
{__ 
_dbSet`` 
.`` 
RemoveRange`` 
(`` 
entities`` #
)``# $
;``$ %
}aa 
}bb ¬*
PC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\PropositionVoteRepository.cs
	namespace 	
Dal
 
. 
Repositories 
; 
public 
class %
PropositionVoteRepository &
(& '
EsnDevContext' 4
context5 <
)< =
:> ?

Repository@ J
<J K
PropositionVoteBoK \
>\ ]
(] ^
context^ e
)e f
,f g'
IPropositionVoteRepository	h Ç
{ 
public 

async 
Task 
< 
IEnumerable !
<! "
PropositionVoteBo" 3
>3 4
>4 5#
GetByPropositionIdAsync6 M
(M N
intN Q
propositionIdR _
)_ `
{ 
return 
await 
context 
. 
PropositionVotes -
. 
Where 
( 
pv 
=> 
pv 
. 
PropositionId )
==* ,
propositionId- :
): ;
. 
Include 
( 
pv 
=> 
pv 
. 
User "
)" #
. 
ToListAsync 
( 
) 
; 
} 
public 

async 
Task 
< 
IEnumerable !
<! "
PropositionVoteBo" 3
>3 4
>4 5
GetByUserIdAsync6 F
(F G
intG J
userIdK Q
)Q R
{ 
return 
await 
context 
. 
PropositionVotes -
. 
Where 
( 
pv 
=> 
pv 
. 
UserId "
==# %
userId& ,
), -
. 
Include 
( 
pv 
=> 
pv 
. 
Proposition )
)) *
. 
ToListAsync 
( 
) 
; 
} 
public 

async 
Task 
< 
PropositionVoteBo '
?' (
>( )(
GetByPropositionAndUserAsync* F
(F G
intG J
propositionIdK X
,X Y
intZ ]
userId^ d
)d e
{ 
return 
await 
context 
. 
PropositionVotes -
.   
FirstOrDefaultAsync    
(    !
pv  ! #
=>  $ &
pv  ' )
.  ) *
PropositionId  * 7
==  8 :
propositionId  ; H
&&  I K
pv  L N
.  N O
UserId  O U
==  V X
userId  Y _
)  _ `
;  ` a
}!! 
public## 

async## 
Task## 
<## 
int## 
>## 
CountUpVotesAsync## ,
(##, -
int##- 0
propositionId##1 >
)##> ?
{$$ 
return%% 
await%% 
context%% 
.%% 
PropositionVotes%% -
.&& 

CountAsync&& 
(&& 
pv&& 
=>&& 
pv&&  
.&&  !
PropositionId&&! .
==&&/ 1
propositionId&&2 ?
&&&&@ B
pv&&C E
.&&E F
VoteType&&F N
==&&O Q
VoteType&&R Z
.&&Z [
Up&&[ ]
)&&] ^
;&&^ _
}'' 
public)) 

async)) 
Task)) 
<)) 
int)) 
>)) 
CountDownVotesAsync)) .
()). /
int))/ 2
propositionId))3 @
)))@ A
{** 
return++ 
await++ 
context++ 
.++ 
PropositionVotes++ -
.,, 

CountAsync,, 
(,, 
pv,, 
=>,, 
pv,,  
.,,  !
PropositionId,,! .
==,,/ 1
propositionId,,2 ?
&&,,@ B
pv,,C E
.,,E F
VoteType,,F N
==,,O Q
VoteType,,R Z
.,,Z [
Down,,[ _
),,_ `
;,,` a
}-- 
public// 

async// 
Task// 
<// 
IEnumerable// !
<//! "
PropositionVoteBo//" 3
>//3 4
>//4 5,
 GetUserVotesForPropositionsAsync//6 V
(//V W
int//W Z
userId//[ a
,//a b
List//c g
<//g h
int//h k
>//k l
propositionIds//m {
)//{ |
{00 
return11 
await11 
context11 
.11 
PropositionVotes11 -
.22 
Where22 
(22 
pv22 
=>22 
pv22 
.22 
UserId22 "
==22# %
userId22& ,
&&22- /
propositionIds220 >
.22> ?
Contains22? G
(22G H
pv22H J
.22J K
PropositionId22K X
)22X Y
)22Y Z
.33 
AsNoTracking33 
(33 
)33 
.44 
ToListAsync44 
(44 
)44 
;44 
}55 
}66 ¡B
LC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\PropositionRepository.cs
	namespace 	
Dal
 
. 
Repositories 
; 
public		 
class		 !
PropositionRepository		 "
(		" #
EsnDevContext		# 0
context		1 8
)		8 9
:

 

Repository

 
<

 
PropositionBo

 
>

 
(

  
context

  '
)

' (
,

( )

Interfaces

* 4
.

4 5"
IPropositionRepository

5 K
{ 
public 

async 
Task 
< 
IEnumerable !
<! "
PropositionBo" /
>/ 0
>0 11
%GetActivePropositionsWithDetailsAsync2 W
(W X
)X Y
{ 
return 
await 
_dbSet 
. 
Where 
( 
p 
=> 
! 
p 
. 
	IsDeleted $
)$ %
. 
Include 
( 
p 
=> 
p 
. 
User  
)  !
. 
AsNoTracking 
( 
) 
. 
ToListAsync 
( 
) 
; 
} 
public 

async 
Task 
< 
IEnumerable !
<! "
PropositionBo" /
>/ 0
>0 1.
"GetAllPropositionsWithDetailsAsync2 T
(T U
)U V
{ 
return 
await 1
%GetActivePropositionsWithDetailsAsync :
(: ;
); <
;< =
} 
public 

async 
Task 
< 
PropositionBo #
?# $
>$ %0
$GetActivePropositionWithDetailsAsync& J
(J K
intK N
propositionIdO \
)\ ]
{ 
return 
await 
_dbSet 
. 
Where 
( 
p 
=> 
! 
p 
. 
	IsDeleted $
)$ %
. 
Include 
( 
p 
=> 
p 
. 
User  
)  !
. 
AsNoTracking 
( 
) 
.   
FirstOrDefaultAsync    
(    !
p  ! "
=>  # %
p  & '
.  ' (
Id  ( *
==  + -
propositionId  . ;
)  ; <
;  < =
}!! 
public## 

async## 
Task## 
<## 
PropositionBo## #
?### $
>##$ %*
GetPropositionWithDetailsAsync##& D
(##D E
int##E H
propositionId##I V
)##V W
{$$ 
return%% 
await%% 0
$GetActivePropositionWithDetailsAsync%% 9
(%%9 :
propositionId%%: G
)%%G H
;%%H I
}&& 
public(( 

Task(( 
SoftDeleteAsync(( 
(((  
PropositionBo((  -
proposition((. 9
)((9 :
{)) 
proposition** 
.** 
	IsDeleted** 
=** 
true**  $
;**$ %
proposition++ 
.++ 
	DeletedAt++ 
=++ 
DateTime++  (
.++( )
UtcNow++) /
;++/ 0
Update,, 
(,, 
proposition,, 
),, 
;,, 
return-- 
Task-- 
.-- 
CompletedTask-- !
;--! "
}.. 
public00 

async00 
Task00 
<00 
(00 
List00 
<00 
PropositionBo00 )
>00) *
Items00+ 0
,000 1
int002 5

TotalCount006 @
)00@ A
>00A B
GetPagedAsync00C P
(00P Q
int00Q T
skip00U Y
,00Y Z
int00[ ^
take00_ c
)00c d
{11 
var22 

totalCount22 
=22 
await22 
_dbSet22 %
.22% &
Where22& +
(22+ ,
p22, -
=>22. 0
!221 2
p222 3
.223 4
	IsDeleted224 =
)22= >
.22> ?

CountAsync22? I
(22I J
)22J K
;22K L
var44 
items44 
=44 
await44 
_dbSet44  
.55 
Where55 
(55 
p55 
=>55 
!55 
p55 
.55 
	IsDeleted55 $
)55$ %
.66 
Include66 
(66 
p66 
=>66 
p66 
.66 
User66  
)66  !
.77 
OrderByDescending77 
(77 
p77  
=>77! #
p77$ %
.77% &
	CreatedAt77& /
)77/ 0
.88 
Skip88 
(88 
skip88 
)88 
.99 
Take99 
(99 
take99 
)99 
.:: 
AsNoTracking:: 
(:: 
):: 
.;; 
ToListAsync;; 
(;; 
);; 
;;; 
return== 
(== 
items== 
,== 

totalCount== !
)==! "
;==" #
}>> 
publicAA 

asyncAA 
TaskAA 
<AA 
(AA 
ListAA 
<AA 
PropositionBoAA )
>AA) *
ItemsAA+ 0
,AA0 1
intAA2 5

TotalCountAA6 @
)AA@ A
>AAA B#
GetPagedWithFilterAsyncAAC Z
(AAZ [
intAA[ ^
skipAA_ c
,AAc d
intAAe h
takeAAi m
,AAm n
BoAAo q
.AAq r
EnumsAAr w
.AAw x
DeletedStatus	AAx Ö
deletedStatus
AAÜ ì
)
AAì î
{BB 
varCC 
queryCC 
=CC 
_dbSetCC 
.CC 
AsQueryableCC &
(CC& '
)CC' (
;CC( )
queryFF 
=FF 
deletedStatusFF 
switchFF $
{GG 	
BoHH 
.HH 
EnumsHH 
.HH 
DeletedStatusHH "
.HH" #
ActiveHH# )
=>HH* ,
queryHH- 2
.HH2 3
WhereHH3 8
(HH8 9
pHH9 :
=>HH; =
!HH> ?
pHH? @
.HH@ A
	IsDeletedHHA J
)HHJ K
,HHK L
BoII 
.II 
EnumsII 
.II 
DeletedStatusII "
.II" #
DeletedII# *
=>II+ -
queryII. 3
.II3 4
WhereII4 9
(II9 :
pII: ;
=>II< >
pII? @
.II@ A
	IsDeletedIIA J
)IIJ K
,IIK L
BoJJ 
.JJ 
EnumsJJ 
.JJ 
DeletedStatusJJ "
.JJ" #
AllJJ# &
=>JJ' )
queryJJ* /
,JJ/ 0
_KK 
=>KK 
queryKK 
.KK 
WhereKK 
(KK 
pKK 
=>KK !
!KK" #
pKK# $
.KK$ %
	IsDeletedKK% .
)KK. /
}LL 	
;LL	 

varNN 

totalCountNN 
=NN 
awaitNN 
queryNN $
.NN$ %

CountAsyncNN% /
(NN/ 0
)NN0 1
;NN1 2
varPP 
itemsPP 
=PP 
awaitPP 
queryPP 
.QQ 
IncludeQQ 
(QQ 
pQQ 
=>QQ 
pQQ 
.QQ 
UserQQ  
)QQ  !
.RR 
OrderByDescendingRR 
(RR 
pRR  
=>RR! #
pRR$ %
.RR% &
	CreatedAtRR& /
)RR/ 0
.SS 
SkipSS 
(SS 
skipSS 
)SS 
.TT 
TakeTT 
(TT 
takeTT 
)TT 
.UU 
AsNoTrackingUU 
(UU 
)UU 
.VV 
ToListAsyncVV 
(VV 
)VV 
;VV 
returnXX 
(XX 
itemsXX 
,XX 

totalCountXX !
)XX! "
;XX" #
}YY 
}ZZ ﬂ
QC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\Interfaces\IUserRepository.cs
	namespace 	
Dal
 
. 
Repositories 
. 

Interfaces %
;% &
public 
	interface 
IUserRepository  
:! "
IRepository# .
<. /
UserBo/ 5
>5 6
{		 
Task 
< 	
UserBo	 
? 
> 
GetByEmailAsync !
(! "
string" (
email) .
). /
;/ 0
Task 
< 	
UserBo	 
? 
> #
GetByEmailWithRoleAsync )
() *
string* 0
email1 6
)6 7
;7 8
Task 
< 	
UserBo	 
? 
>  
GetUserWithRoleAsync &
(& '
int' *
userId+ 1
)1 2
;2 3
Task 
< 	
IEnumerable	 
< 
UserBo 
> 
> 
GetEsnMembersAsync 0
(0 1
)1 2
;2 3
Task!! 
<!! 	
bool!!	 
>!! 
EmailExistsAsync!! 
(!!  
string!!  &
email!!' ,
)!!, -
;!!- .
Task&& 
<&& 	
(&&	 

List&&
 
<&& 
UserBo&& 
>&& 
Items&& 
,&& 
int&& !

TotalCount&&" ,
)&&, -
>&&- .
GetPagedAsync&&/ <
(&&< =
int&&= @
skip&&A E
,&&E F
int&&G J
take&&K O
)&&O P
;&&P Q
}'' —
QC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\Interfaces\IRoleRepository.cs
	namespace 	
Dal
 
. 
Repositories 
. 

Interfaces %
;% &
public 
	interface 
IRoleRepository  
:! "
IRepository# .
<. /
RoleBo/ 5
>5 6
{		 
Task 
< 	
RoleBo	 
? 
> 
GetByNameAsync  
(  !
string! '
name( ,
), -
;- .
Task 
< 	
IEnumerable	 
< 
RoleBo 
> 
> 
GetActiveRolesAsync 1
(1 2
)2 3
;3 4
Task 
< 	
bool	 
> 
ExistsByNameAsync  
(  !
string! '
name( ,
), -
;- .
} ¬
MC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\Interfaces\IRepository.cs
	namespace 	
Dal
 
. 
Repositories 
. 

Interfaces %
;% &
public

 
	interface

 
IRepository

 
<

 
T

 
>

 
where

  %
T

& '
:

( )
class

* /
{ 
Task 
< 	
T	 

?
 
> 
GetByIdAsync 
( 
int 
id  
)  !
;! "
Task 
< 	
IEnumerable	 
< 
T 
> 
> 
GetAllAsync $
($ %
)% &
;& '
Task 
< 	
IEnumerable	 
< 
T 
> 
> 
	FindAsync "
(" #

Expression# -
<- .
Func. 2
<2 3
T3 4
,4 5
bool6 :
>: ;
>; <
	predicate= F
)F G
;G H
Task 
< 	
T	 

?
 
> 
FirstOrDefaultAsync  
(  !

Expression! +
<+ ,
Func, 0
<0 1
T1 2
,2 3
bool4 8
>8 9
>9 :
	predicate; D
)D E
;E F
Task## 
<## 	
int##	 
>## 

CountAsync## 
(## 

Expression## #
<### $
Func##$ (
<##( )
T##) *
,##* +
bool##, 0
>##0 1
>##1 2
?##2 3
	predicate##4 =
=##> ?
null##@ D
)##D E
;##E F
Task(( 
<(( 	
bool((	 
>(( 
AnyAsync(( 
((( 

Expression(( "
<((" #
Func((# '
<((' (
T((( )
,(() *
bool((+ /
>((/ 0
>((0 1
	predicate((2 ;
)((; <
;((< =
Task-- 
<-- 	
IEnumerable--	 
<-- 
T-- 
>-- 
>-- &
FindWithSpecificationAsync-- 3
(--3 4
ISpecification--4 B
<--B C
T--C D
>--D E
specification--F S
)--S T
;--T U
Task22 
<22 	
T22	 

?22
 
>22 0
$FirstOrDefaultWithSpecificationAsync22 1
(221 2
ISpecification222 @
<22@ A
T22A B
>22B C
specification22D Q
)22Q R
;22R S
Task77 
<77 	
int77	 
>77 '
CountWithSpecificationAsync77 )
(77) *
ISpecification77* 8
<778 9
T779 :
>77: ;
specification77< I
)77I J
;77J K
Task<< 
<<< 	
T<<	 

><<
 
AddAsync<< 
(<< 
T<< 
entity<< 
)<< 
;<< 
TaskAA 
AddRangeAsyncAA	 
(AA 
IEnumerableAA "
<AA" #
TAA# $
>AA$ %
entitiesAA& .
)AA. /
;AA/ 0
voidFF 
UpdateFF	 
(FF 
TFF 
entityFF 
)FF 
;FF 
voidKK 
UpdateRangeKK	 
(KK 
IEnumerableKK  
<KK  !
TKK! "
>KK" #
entitiesKK$ ,
)KK, -
;KK- .
voidPP 
DeletePP	 
(PP 
TPP 
entityPP 
)PP 
;PP 
voidUU 
DeleteRangeUU	 
(UU 
IEnumerableUU  
<UU  !
TUU! "
>UU" #
entitiesUU$ ,
)UU, -
;UU- .
}VV ®
\C:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\Interfaces\IPropositionVoteRepository.cs
	namespace 	
Dal
 
. 
Repositories 
. 

Interfaces %
;% &
public 
	interface &
IPropositionVoteRepository +
:, -
IRepository. 9
<9 :
PropositionVoteBo: K
>K L
{		 
Task 
< 	
IEnumerable	 
< 
PropositionVoteBo &
>& '
>' (#
GetByPropositionIdAsync) @
(@ A
intA D
propositionIdE R
)R S
;S T
Task 
< 	
IEnumerable	 
< 
PropositionVoteBo &
>& '
>' (
GetByUserIdAsync) 9
(9 :
int: =
userId> D
)D E
;E F
Task 
< 	
PropositionVoteBo	 
? 
> (
GetByPropositionAndUserAsync 9
(9 :
int: =
propositionId> K
,K L
intM P
userIdQ W
)W X
;X Y
Task 
< 	
int	 
> 
CountUpVotesAsync 
(  
int  #
propositionId$ 1
)1 2
;2 3
Task!! 
<!! 	
int!!	 
>!! 
CountDownVotesAsync!! !
(!!! "
int!!" %
propositionId!!& 3
)!!3 4
;!!4 5
Task)) 
<)) 	
IEnumerable))	 
<)) 
PropositionVoteBo)) &
>))& '
>))' (,
 GetUserVotesForPropositionsAsync))) I
())I J
int))J M
userId))N T
,))T U
List))V Z
<))Z [
int))[ ^
>))^ _
propositionIds))` n
)))n o
;))o p
}** ”
XC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\Interfaces\IPropositionRepository.cs
	namespace 	
Dal
 
. 
Repositories 
. 

Interfaces %
;% &
public 
	interface "
IPropositionRepository '
:( )
IRepository* 5
<5 6
PropositionBo6 C
>C D
{		 
Task 
< 	
IEnumerable	 
< 
PropositionBo "
>" #
># $1
%GetActivePropositionsWithDetailsAsync% J
(J K
)K L
;L M
Task 
< 	
IEnumerable	 
< 
PropositionBo "
>" #
># $.
"GetAllPropositionsWithDetailsAsync% G
(G H
)H I
;I J
Task 
< 	
PropositionBo	 
? 
> 0
$GetActivePropositionWithDetailsAsync =
(= >
int> A
propositionIdB O
)O P
;P Q
Task 
< 	
PropositionBo	 
? 
> *
GetPropositionWithDetailsAsync 7
(7 8
int8 ;
propositionId< I
)I J
;J K
Task!! 
SoftDeleteAsync!!	 
(!! 
PropositionBo!! &
proposition!!' 2
)!!2 3
;!!3 4
Task&& 
<&& 	
(&&	 

List&&
 
<&& 
PropositionBo&& 
>&& 
Items&& #
,&&# $
int&&% (

TotalCount&&) 3
)&&3 4
>&&4 5
GetPagedAsync&&6 C
(&&C D
int&&D G
skip&&H L
,&&L M
int&&N Q
take&&R V
)&&V W
;&&W X
Task55 
<55 	
(55	 

List55
 
<55 
PropositionBo55 
>55 
Items55 #
,55# $
int55% (

TotalCount55) 3
)553 4
>554 5#
GetPagedWithFilterAsync556 M
(55M N
int55N Q
skip55R V
,55V W
int55X [
take55\ `
,55` a
Bo55b d
.55d e
Enums55e j
.55j k
DeletedStatus55k x
deletedStatus	55y Ü
)
55Ü á
;
55á à
}66 É
ZC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\Interfaces\IEventTemplateRepository.cs
	namespace 	
Dal
 
. 
Repositories 
. 

Interfaces %
;% &
public 
	interface $
IEventTemplateRepository )
:* +
IRepository, 7
<7 8
EventTemplateBo8 G
>G H
{		 
Task 
< 	
IEnumerable	 
< 
EventTemplateBo $
>$ %
>% & 
GetAllTemplatesAsync' ;
(; <
)< =
;= >
Task 
< 	
(	 

List
 
< 
EventTemplateBo 
> 
Items  %
,% &
int' *

TotalCount+ 5
)5 6
>6 7
GetPagedAsync8 E
(E F
intF I
skipJ N
,N O
intP S
takeT X
)X Y
;Y Z
} ƒ
RC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\Interfaces\IEventRepository.cs
	namespace 	
Dal
 
. 
Repositories 
. 

Interfaces %
;% &
public 
	interface 
IEventRepository !
:" #
IRepository$ /
</ 0
EventBo0 7
>7 8
{		 
Task 
< 	
IEnumerable	 
< 
EventBo 
> 
> (
GetAllEventsWithDetailsAsync ;
(; <
)< =
;= >
Task 
< 	
IEnumerable	 
< 
EventBo 
> 
> %
GetAllEventsForAdminAsync 8
(8 9
)9 :
;: ;
Task 
< 	
(	 

List
 
< 
EventBo 
> 
Events 
, 
int  #

TotalCount$ .
). /
>/ 0
GetEventsPagedAsync1 D
(D E
intE H
skipI M
,M N
intO R
takeS W
)W X
;X Y
Task 
< 	
EventBo	 
? 
> $
GetEventWithDetailsAsync +
(+ ,
int, /
eventId0 7
)7 8
;8 9
Task!! 
<!! 	
IEnumerable!!	 
<!! 
EventBo!! 
>!! 
>!! %
GetEventsByUserEmailAsync!! 8
(!!8 9
string!!9 ?
	userEmail!!@ I
)!!I J
;!!J K
Task&& 
<&& 	
EventRegistrationBo&&	 
?&& 
>&&  
GetRegistrationAsync&& 3
(&&3 4
int&&4 7
eventId&&8 ?
,&&? @
int&&A D
userId&&E K
)&&K L
;&&L M
Task++ 
<++ 	
int++	 
>++ #
GetRegisteredCountAsync++ %
(++% &
int++& )
eventId++* 1
)++1 2
;++2 3
},, ı
^C:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\Interfaces\IEventRegistrationRepository.cs
	namespace 	
Dal
 
. 
Repositories 
. 

Interfaces %
;% &
public 
	interface (
IEventRegistrationRepository -
:. /
IRepository0 ;
<; <
EventRegistrationBo< O
>O P
{		 
Task 
< 	
IEnumerable	 
< 
EventRegistrationBo (
>( )
>) *
GetByEventIdAsync+ <
(< =
int= @
eventIdA H
)H I
;I J
Task 
< 	
IEnumerable	 
< 
EventRegistrationBo (
>( )
>) *
GetByUserIdAsync+ ;
(; <
int< ?
userId@ F
)F G
;G H
Task 
< 	
bool	 
> !
IsUserRegisteredAsync $
($ %
int% (
eventId) 0
,0 1
int2 5
userId6 <
)< =
;= >
Task 
< 	
EventRegistrationBo	 
? 
> "
GetByEventAndUserAsync 5
(5 6
int6 9
eventId: A
,A B
intC F
userIdG M
)M N
;N O
Task$$ 
<$$ 	
IEnumerable$$	 
<$$ 
EventRegistrationBo$$ (
>$$( )
>$$) *#
GetByUserAndEventsAsync$$+ B
($$B C
int$$C F
userId$$G M
,$$M N
int$$O R
[$$R S
]$$S T
eventIds$$U ]
)$$] ^
;$$^ _
}%% ∫

aC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\Interfaces\ICalendarSubOrganizerRepository.cs
	namespace 	
Dal
 
. 
Repositories 
. 

Interfaces %
;% &
public 
	interface +
ICalendarSubOrganizerRepository 0
:1 2
IRepository3 >
<> ?"
CalendarSubOrganizerBo? U
>U V
{		 
Task 
< 	
IEnumerable	 
< "
CalendarSubOrganizerBo +
>+ ,
>, - 
GetByCalendarIdAsync. B
(B C
intC F

calendarIdG Q
)Q R
;R S
Task 
< 	
IEnumerable	 
< "
CalendarSubOrganizerBo +
>+ ,
>, -
GetByUserIdAsync. >
(> ?
int? B
userIdC I
)I J
;J K
Task 
< 	
bool	 
> 
IsSubOrganizerAsync "
(" #
int# &

calendarId' 1
,1 2
int3 6
userId7 =
)= >
;> ?
Task #
DeleteByCalendarIdAsync	  
(  !
int! $

calendarId% /
)/ 0
;0 1
} —
UC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\Interfaces\ICalendarRepository.cs
	namespace 	
Dal
 
. 
Repositories 
. 

Interfaces %
;% &
public 
	interface 
ICalendarRepository $
:% &
IRepository' 2
<2 3

CalendarBo3 =
>= >
{		 
Task 
< 	
IEnumerable	 
< 

CalendarBo 
>  
>  !+
GetAllCalendarsWithDetailsAsync" A
(A B
)B C
;C D
Task 
< 	

CalendarBo	 
? 
> '
GetCalendarWithDetailsAsync 1
(1 2
int2 5

calendarId6 @
)@ A
;A B
Task 
< 	

CalendarBo	 
? 
> "
GetCalendarSimpleAsync ,
(, -
int- 0

calendarId1 ;
); <
;< =
Task 
< 	
IEnumerable	 
< 

CalendarBo 
>  
>  !&
GetCalendarsByEventIdAsync" <
(< =
int= @
?@ A
eventIdB I
)I J
;J K
Task!! 
<!! 	

CalendarBo!!	 
?!! 
>!! %
GetCalendarByEventIdAsync!! /
(!!/ 0
int!!0 3
eventId!!4 ;
)!!; <
;!!< =
Task&& 
<&& 	
IEnumerable&&	 
<&& 

CalendarBo&& 
>&&  
>&&  !)
GetCalendarsWithoutEventAsync&&" ?
(&&? @
)&&@ A
;&&A B
Task++ 
<++ 	
(++	 

List++
 
<++ 

CalendarBo++ 
>++ 
Items++  
,++  !
int++" %

TotalCount++& 0
)++0 1
>++1 2
GetPagedAsync++3 @
(++@ A
int++A D
skip++E I
,++I J
int++K N
take++O S
)++S T
;++T U
Task00 
<00 	
(00	 

List00
 
<00 

CalendarBo00 
>00 
Items00  
,00  !
int00" %

TotalCount00& 0
)000 1
>001 2
GetPagedSimpleAsync003 F
(00F G
int00G J
skip00K O
,00O P
int00Q T
take00U Y
)00Y Z
;00Z [
}11 µ
NC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\EventTemplateRepository.cs
	namespace 	
Dal
 
. 
Repositories 
; 
public		 
class		 #
EventTemplateRepository		 $
(		$ %
EsnDevContext		% 2
context		3 :
)		: ;
:

 

Repository

 
<

 
EventTemplateBo

  
>

  !
(

! "
context

" )
)

) *
,

* +

Interfaces

, 6
.

6 7$
IEventTemplateRepository

7 O
{ 
public 

async 
Task 
< 
IEnumerable !
<! "
EventTemplateBo" 1
>1 2
>2 3(
GetAllTemplatesWithUserAsync4 P
(P Q
)Q R
{ 
return 
await 
_dbSet 
. 
ToListAsync '
(' (
)( )
;) *
} 
public 

async 
Task 
< 
IEnumerable !
<! "
EventTemplateBo" 1
>1 2
>2 3 
GetAllTemplatesAsync4 H
(H I
)I J
{ 
return 
await (
GetAllTemplatesWithUserAsync 1
(1 2
)2 3
;3 4
} 
public 

async 
Task 
< 
EventTemplateBo %
?% &
>& '$
GetTemplateWithUserAsync( @
(@ A
intA D

templateIdE O
)O P
{ 
return 
await 
_dbSet 
. 
FirstOrDefaultAsync /
(/ 0
et0 2
=>3 5
et6 8
.8 9
Id9 ;
==< >

templateId? I
)I J
;J K
} 
public 

async 
Task 
< 
IEnumerable !
<! "
EventTemplateBo" 1
>1 2
>2 3(
GetTemplatesByUserEmailAsync4 P
(P Q
stringQ W
	userEmailX a
)a b
{ 
return 
await 
_dbSet 
. 
ToListAsync '
(' (
)( )
;) *
} 
public!! 

async!! 
Task!! 
<!! 
(!! 
List!! 
<!! 
EventTemplateBo!! +
>!!+ ,
Items!!- 2
,!!2 3
int!!4 7

TotalCount!!8 B
)!!B C
>!!C D
GetPagedAsync!!E R
(!!R S
int!!S V
skip!!W [
,!![ \
int!!] `
take!!a e
)!!e f
{"" 
var## 

totalCount## 
=## 
await## 
_dbSet## %
.##% &

CountAsync##& 0
(##0 1
)##1 2
;##2 3
var%% 
items%% 
=%% 
await%% 
_dbSet%%  
.&& 
OrderByDescending&& 
(&& 
et&& !
=>&&" $
et&&% '
.&&' (
Id&&( *
)&&* +
.'' 
Skip'' 
('' 
skip'' 
)'' 
.(( 
Take(( 
((( 
take(( 
)(( 
.)) 
ToListAsync)) 
()) 
))) 
;)) 
return++ 
(++ 
items++ 
,++ 

totalCount++ !
)++! "
;++" #
},, 
}-- óB
FC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\EventRepository.cs
	namespace 	
Dal
 
. 
Repositories 
; 
public 
class 
EventRepository 
( 
EsnDevContext *
context+ 2
)2 3
:4 5

Repository6 @
<@ A
EventBoA H
>H I
(I J
contextJ Q
)Q R
,R S
IEventRepositoryT d
{ 
public 

async 
Task 
< 
IEnumerable !
<! "
EventBo" )
>) *
>* +(
GetAllEventsWithDetailsAsync, H
(H I
)I J
{ 
var 
now 
= 
DateTime 
. 
UtcNow !
;! "
return 
await 
_dbSet 
. 
Include 
( 
e 
=> 
e 
. 
	Calendars %
)% &
. 
Where 
( 
e 
=> 
! 
e 
. 
	Calendars $
.$ %
Any% (
(( )
)) *
||+ -
e. /
./ 0
	Calendars0 9
.9 :
Any: =
(= >
c> ?
=>@ B
cC D
.D E
	EventDateE N
>=O Q
nowR U
)U V
)V W
. 
Include 
( 
e 
=> 
e 
. 
EventRegistrations .
). /
. 
Include 
( 
e 
=> 
e 
. 
User  
)  !
. 
OrderByDescending 
( 
e  
=>! #
e$ %
.% &
	CreatedAt& /
)/ 0
. 
ToListAsync 
( 
) 
; 
} 
public 

async 
Task 
< 
IEnumerable !
<! "
EventBo" )
>) *
>* +%
GetAllEventsForAdminAsync, E
(E F
)F G
{ 
return 
await 
_dbSet 
. 
Include 
( 
e 
=> 
e 
. 
EventRegistrations .
). /
. 
Include 
( 
e 
=> 
e 
. 
User  
)  !
. 
OrderByDescending 
( 
e  
=>! #
e$ %
.% &
	CreatedAt& /
)/ 0
.   
ToListAsync   
(   
)   
;   
}!! 
public## 

async## 
Task## 
<## 
(## 
List## 
<## 
EventBo## #
>### $
Events##% +
,##+ ,
int##- 0

TotalCount##1 ;
)##; <
>##< =
GetEventsPagedAsync##> Q
(##Q R
int##R U
skip##V Z
,##Z [
int##\ _
take##` d
)##d e
{$$ 
var%% 
now%% 
=%% 
DateTime%% 
.%% 
UtcNow%% !
;%%! "
var(( 
query(( 
=(( 
_dbSet(( 
.)) 
Include)) 
()) 
e)) 
=>)) 
e)) 
.)) 
	Calendars)) %
)))% &
.** 
Where** 
(** 
e** 
=>** 
!** 
e** 
.** 
	Calendars** $
.**$ %
Any**% (
(**( )
)**) *
||**+ -
e**. /
.**/ 0
	Calendars**0 9
.**9 :
Any**: =
(**= >
c**> ?
=>**@ B
c**C D
.**D E
	EventDate**E N
>=**O Q
now**R U
)**U V
)**V W
;**W X
var-- 

totalCount-- 
=-- 
await-- 
query-- $
.--$ %

CountAsync--% /
(--/ 0
)--0 1
;--1 2
var00 
events00 
=00 
await00 
query00  
.11 
Include11 
(11 
e11 
=>11 
e11 
.11 
User11  
)11  !
.22 
Include22 
(22 
e22 
=>22 
e22 
.22 
EventRegistrations22 .
)22. /
.33 
OrderByDescending33 
(33 
e33  
=>33! #
e33$ %
.33% &
	CreatedAt33& /
)33/ 0
.44 
Skip44 
(44 
skip44 
)44 
.55 
Take55 
(55 
take55 
)55 
.66 
ToListAsync66 
(66 
)66 
;66 
return88 
(88 
events88 
,88 

totalCount88 "
)88" #
;88# $
}99 
public;; 

async;; 
Task;; 
<;; 
EventBo;; 
?;; 
>;; $
GetEventWithDetailsAsync;;  8
(;;8 9
int;;9 <
eventId;;= D
);;D E
{<< 
return== 
await== 
_dbSet== 
.>> 
Include>> 
(>> 
e>> 
=>>> 
e>> 
.>> 
EventRegistrations>> .
)>>. /
.?? 
Include?? 
(?? 
e?? 
=>?? 
e?? 
.?? 
User??  
)??  !
.@@ 
FirstOrDefaultAsync@@  
(@@  !
e@@! "
=>@@# %
e@@& '
.@@' (
Id@@( *
==@@+ -
eventId@@. 5
)@@5 6
;@@6 7
}AA 
publicCC 

asyncCC 
TaskCC 
<CC 
IEnumerableCC !
<CC! "
EventBoCC" )
>CC) *
>CC* +%
GetEventsByUserEmailAsyncCC, E
(CCE F
stringCCF L
	userEmailCCM V
)CCV W
{DD 
returnEE 
awaitEE 
_dbSetEE 
.FF 
IncludeFF 
(FF 
eFF 
=>FF 
eFF 
.FF 
UserFF  
)FF  !
.GG 
WhereGG 
(GG 
eGG 
=>GG 
eGG 
.GG 
UserGG 
.GG 
EmailGG $
==GG% '
	userEmailGG( 1
)GG1 2
.HH 
ToListAsyncHH 
(HH 
)HH 
;HH 
}II 
publicKK 

asyncKK 
TaskKK 
<KK 
EventRegistrationBoKK )
?KK) *
>KK* + 
GetRegistrationAsyncKK, @
(KK@ A
intKKA D
eventIdKKE L
,KKL M
intKKN Q
userIdKKR X
)KKX Y
{LL 
returnMM 
awaitMM 
_contextMM 
.MM 
EventRegistrationsMM 0
.NN 
FirstOrDefaultAsyncNN  
(NN  !
erNN! #
=>NN$ &
erNN' )
.NN) *
EventIdNN* 1
==NN2 4
eventIdNN5 <
&&NN= ?
erNN@ B
.NNB C
UserIdNNC I
==NNJ L
userIdNNM S
)NNS T
;NNT U
}OO 
publicQQ 

asyncQQ 
TaskQQ 
<QQ 
intQQ 
>QQ #
GetRegisteredCountAsyncQQ 2
(QQ2 3
intQQ3 6
eventIdQQ7 >
)QQ> ?
{RR 
returnSS 
awaitSS 
_contextSS 
.SS 
EventRegistrationsSS 0
.TT 

CountAsyncTT 
(TT 
erTT 
=>TT 
erTT  
.TT  !
EventIdTT! (
==TT) +
eventIdTT, 3
&&TT4 6
erTT7 9
.TT9 :
StatusTT: @
==TTA C
RegistrationStatusTTD V
.TTV W

RegisteredTTW a
)TTa b
;TTb c
}UU 
}VV ı#
RC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\EventRegistrationRepository.cs
	namespace 	
Dal
 
. 
Repositories 
; 
public

 
class

 '
EventRegistrationRepository

 (
(

( )
EsnDevContext

) 6
context

7 >
)

> ?
:

@ A

Repository

B L
<

L M
EventRegistrationBo

M `
>

` a
(

a b
context

b i
)

i j
,

j k)
IEventRegistrationRepository	

l à
{ 
public 

async 
Task 
< 
IEnumerable !
<! "
EventRegistrationBo" 5
>5 6
>6 7
GetByEventIdAsync8 I
(I J
intJ M
eventIdN U
)U V
{ 
return 
await 
context 
. 
EventRegistrations /
. 
Where 
( 
er 
=> 
er 
. 
EventId #
==$ &
eventId' .
). /
. 
Include 
( 
er 
=> 
er 
. 
User "
)" #
. 
ToListAsync 
( 
) 
; 
} 
public 

async 
Task 
< 
IEnumerable !
<! "
EventRegistrationBo" 5
>5 6
>6 7
GetByUserIdAsync8 H
(H I
intI L
userIdM S
)S T
{ 
return 
await 
context 
. 
EventRegistrations /
. 
Where 
( 
er 
=> 
er 
. 
UserId "
==# %
userId& ,
), -
. 
Include 
( 
er 
=> 
er 
. 
Event #
)# $
. 
ToListAsync 
( 
) 
; 
} 
public 

async 
Task 
< 
bool 
> !
IsUserRegisteredAsync 1
(1 2
int2 5
eventId6 =
,= >
int? B
userIdC I
)I J
{ 
return 
await 
context 
. 
EventRegistrations /
. 
AnyAsync 
( 
er 
=> 
er 
. 
EventId &
==' )
eventId* 1
&&2 4
er5 7
.7 8
UserId8 >
==? A
userIdB H
)H I
;I J
}   
public"" 

async"" 
Task"" 
<"" 
EventRegistrationBo"" )
?"") *
>""* +"
GetByEventAndUserAsync"", B
(""B C
int""C F
eventId""G N
,""N O
int""P S
userId""T Z
)""Z [
{## 
return$$ 
await$$ 
context$$ 
.$$ 
EventRegistrations$$ /
.%% 
FirstOrDefaultAsync%%  
(%%  !
er%%! #
=>%%$ &
er%%' )
.%%) *
EventId%%* 1
==%%2 4
eventId%%5 <
&&%%= ?
er%%@ B
.%%B C
UserId%%C I
==%%J L
userId%%M S
)%%S T
;%%T U
}&& 
public(( 

async(( 
Task(( 
<(( 
IEnumerable(( !
<((! "
EventRegistrationBo((" 5
>((5 6
>((6 7#
GetByUserAndEventsAsync((8 O
(((O P
int((P S
userId((T Z
,((Z [
int((\ _
[((_ `
]((` a
eventIds((b j
)((j k
{)) 
return** 
await** 
context** 
.** 
EventRegistrations** /
.++ 
Where++ 
(++ 
er++ 
=>++ 
er++ 
.++ 
UserId++ "
==++# %
userId++& ,
&&++- /
eventIds++0 8
.++8 9
Contains++9 A
(++A B
er++B D
.++D E
EventId++E L
)++L M
)++M N
.,, 
ToListAsync,, 
(,, 
),, 
;,, 
}-- 
}.. –
UC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\CalendarSubOrganizerRepository.cs
	namespace 	
Dal
 
. 
Repositories 
; 
public

 
class

 *
CalendarSubOrganizerRepository

 +
(

+ ,
EsnDevContext

, 9
context

: A
)

A B
:

C D

Repository

E O
<

O P"
CalendarSubOrganizerBo

P f
>

f g
(

g h
context

h o
)

o p
,

p q,
ICalendarSubOrganizerRepository	

r ë
{ 
public 

async 
Task 
< 
IEnumerable !
<! ""
CalendarSubOrganizerBo" 8
>8 9
>9 : 
GetByCalendarIdAsync; O
(O P
intP S

calendarIdT ^
)^ _
{ 
return 
await 
context 
. !
CalendarSubOrganizers 2
. 
Where 
( 
cso 
=> 
cso 
. 

CalendarId (
==) +

calendarId, 6
)6 7
. 
Include 
( 
cso 
=> 
cso 
.  
User  $
)$ %
. 
ToListAsync 
( 
) 
; 
} 
public 

async 
Task 
< 
IEnumerable !
<! ""
CalendarSubOrganizerBo" 8
>8 9
>9 :
GetByUserIdAsync; K
(K L
intL O
userIdP V
)V W
{ 
return 
await 
context 
. !
CalendarSubOrganizers 2
. 
Where 
( 
cso 
=> 
cso 
. 
UserId $
==% '
userId( .
). /
. 
Include 
( 
cso 
=> 
cso 
.  
Calendar  (
)( )
. 
ToListAsync 
( 
) 
; 
} 
public 

async 
Task 
< 
bool 
> 
IsSubOrganizerAsync /
(/ 0
int0 3

calendarId4 >
,> ?
int@ C
userIdD J
)J K
{ 
return 
await 
context 
. !
CalendarSubOrganizers 2
. 
AnyAsync 
( 
cso 
=> 
cso  
.  !

CalendarId! +
==, .

calendarId/ 9
&&: <
cso= @
.@ A
UserIdA G
==H J
userIdK Q
)Q R
;R S
}   
public"" 

async"" 
Task"" #
DeleteByCalendarIdAsync"" -
(""- .
int"". 1

calendarId""2 <
)""< =
{## 
var$$ 
subOrganizers$$ 
=$$ 
await$$ !
context$$" )
.$$) *!
CalendarSubOrganizers$$* ?
.%% 
Where%% 
(%% 
cso%% 
=>%% 
cso%% 
.%% 

CalendarId%% (
==%%) +

calendarId%%, 6
)%%6 7
.&& 
ToListAsync&& 
(&& 
)&& 
;&& 
context(( 
.(( !
CalendarSubOrganizers(( %
.((% &
RemoveRange((& 1
(((1 2
subOrganizers((2 ?
)((? @
;((@ A
})) 
}** ê[
IC:\Users\micha\Projects\ESN-WebApi\Dal\Repositories\CalendarRepository.cs
	namespace 	
Dal
 
. 
Repositories 
; 
public		 
class		 
CalendarRepository		 
(		  
EsnDevContext		  -
context		. 5
)		5 6
:

 

Repository

 
<

 

CalendarBo

 
>

 
(

 
context

 $
)

$ %
,

% &

Interfaces

' 1
.

1 2
ICalendarRepository

2 E
{ 
public 

async 
Task 
< 
IEnumerable !
<! "

CalendarBo" ,
>, -
>- .+
GetAllCalendarsWithDetailsAsync/ N
(N O
)O P
{ 
return 
await 
_dbSet 
. 
Include 
( 
c 
=> 
c 
. 
Event !
)! "
. 
ThenInclude 
( 
e 
=> !
e" #
.# $
User$ (
)( )
. 
Include 
( 
c 
=> 
c 
. 
MainOrganizer )
)) *
. 
Include 
( 
c 
=> 
c 
. 
EventManager (
)( )
. 
Include 
( 
c 
=> 
c 
. 
ResponsableCom *
)* +
. 
Include 
( 
c 
=> 
c 
. !
CalendarSubOrganizers 1
)1 2
. 
ThenInclude 
( 
cso  
=>! #
cso$ '
.' (
User( ,
), -
. 
ToListAsync 
( 
) 
; 
} 
public 

async 
Task 
< 

CalendarBo  
?  !
>! "'
GetCalendarWithDetailsAsync# >
(> ?
int? B

calendarIdC M
)M N
{ 
return 
await 
_dbSet 
. 
Include 
( 
c 
=> 
c 
. 
Event !
)! "
. 
ThenInclude 
( 
e 
=> !
e" #
.# $
User$ (
)( )
. 
Include 
( 
c 
=> 
c 
. 
MainOrganizer )
)) *
. 
Include 
( 
c 
=> 
c 
. 
EventManager (
)( )
.   
Include   
(   
c   
=>   
c   
.   
ResponsableCom   *
)  * +
.!! 
Include!! 
(!! 
c!! 
=>!! 
c!! 
.!! !
CalendarSubOrganizers!! 1
)!!1 2
."" 
ThenInclude"" 
("" 
cso""  
=>""! #
cso""$ '
.""' (
User""( ,
)"", -
.## 
FirstOrDefaultAsync##  
(##  !
c##! "
=>### %
c##& '
.##' (
Id##( *
==##+ -

calendarId##. 8
)##8 9
;##9 :
}$$ 
public&& 

async&& 
Task&& 
<&& 
IEnumerable&& !
<&&! "

CalendarBo&&" ,
>&&, -
>&&- .&
GetCalendarsByEventIdAsync&&/ I
(&&I J
int&&J M
?&&M N
eventId&&O V
)&&V W
{'' 
var(( 
query(( 
=(( 
_dbSet(( 
.)) 
Include)) 
()) 
c)) 
=>)) 
c)) 
.)) 
Event)) !
)))! "
.** 
ThenInclude** 
(** 
e** 
=>** !
e**" #
.**# $
User**$ (
)**( )
.++ 
Include++ 
(++ 
c++ 
=>++ 
c++ 
.++ 
MainOrganizer++ )
)++) *
.,, 
Include,, 
(,, 
c,, 
=>,, 
c,, 
.,, 
EventManager,, (
),,( )
.-- 
Include-- 
(-- 
c-- 
=>-- 
c-- 
.-- 
ResponsableCom-- *
)--* +
... 
Include.. 
(.. 
c.. 
=>.. 
c.. 
... !
CalendarSubOrganizers.. 1
)..1 2
.// 
ThenInclude// 
(// 
cso//  
=>//! #
cso//$ '
.//' (
User//( ,
)//, -
.00 
AsQueryable00 
(00 
)00 
;00 
if22 

(22 
eventId22 
.22 
HasValue22 
)22 
{33 	
query44 
=44 
query44 
.44 
Where44 
(44  
c44  !
=>44" $
c44% &
.44& '
EventId44' .
==44/ 1
eventId442 9
.449 :
Value44: ?
)44? @
;44@ A
}55 	
return77 
await77 
query77 
.77 
ToListAsync77 &
(77& '
)77' (
;77( )
}88 
public:: 

async:: 
Task:: 
<:: 

CalendarBo::  
?::  !
>::! "%
GetCalendarByEventIdAsync::# <
(::< =
int::= @
eventId::A H
)::H I
{;; 
return<< 
await<< 
_dbSet<< 
.== 
AsNoTracking== 
(== 
)== 
.>> 
FirstOrDefaultAsync>>  
(>>  !
c>>! "
=>>># %
c>>& '
.>>' (
EventId>>( /
==>>0 2
eventId>>3 :
)>>: ;
;>>; <
}?? 
publicAA 

asyncAA 
TaskAA 
<AA 
IEnumerableAA !
<AA! "

CalendarBoAA" ,
>AA, -
>AA- .)
GetCalendarsWithoutEventAsyncAA/ L
(AAL M
)AAM N
{BB 
returnCC 
awaitCC 
_dbSetCC 
.DD 
WhereDD 
(DD 
cDD 
=>DD 
cDD 
.DD 
EventIdDD !
==DD" $
nullDD% )
)DD) *
.EE 
IncludeEE 
(EE 
cEE 
=>EE 
cEE 
.EE 
MainOrganizerEE )
)EE) *
.FF 
IncludeFF 
(FF 
cFF 
=>FF 
cFF 
.FF 
EventManagerFF (
)FF( )
.GG 
IncludeGG 
(GG 
cGG 
=>GG 
cGG 
.GG 
ResponsableComGG *
)GG* +
.HH 
OrderByDescendingHH 
(HH 
cHH  
=>HH! #
cHH$ %
.HH% &
	EventDateHH& /
)HH/ 0
.II 
ToListAsyncII 
(II 
)II 
;II 
}JJ 
publicLL 

asyncLL 
TaskLL 
<LL 
(LL 
ListLL 
<LL 

CalendarBoLL &
>LL& '
ItemsLL( -
,LL- .
intLL/ 2

TotalCountLL3 =
)LL= >
>LL> ?
GetPagedAsyncLL@ M
(LLM N
intLLN Q
skipLLR V
,LLV W
intLLX [
takeLL\ `
)LL` a
{MM 
varNN 

totalCountNN 
=NN 
awaitNN 
_dbSetNN %
.NN% &

CountAsyncNN& 0
(NN0 1
)NN1 2
;NN2 3
varPP 
itemsPP 
=PP 
awaitPP 
_dbSetPP  
.QQ 
IncludeQQ 
(QQ 
cQQ 
=>QQ 
cQQ 
.QQ 
EventQQ !
)QQ! "
.RR 
ThenIncludeRR 
(RR 
eRR 
=>RR !
eRR" #
.RR# $
UserRR$ (
)RR( )
.SS 
IncludeSS 
(SS 
cSS 
=>SS 
cSS 
.SS 
MainOrganizerSS )
)SS) *
.TT 
IncludeTT 
(TT 
cTT 
=>TT 
cTT 
.TT 
EventManagerTT (
)TT( )
.UU 
IncludeUU 
(UU 
cUU 
=>UU 
cUU 
.UU 
ResponsableComUU *
)UU* +
.VV 
IncludeVV 
(VV 
cVV 
=>VV 
cVV 
.VV !
CalendarSubOrganizersVV 1
)VV1 2
.WW 
ThenIncludeWW 
(WW 
csoWW  
=>WW! #
csoWW$ '
.WW' (
UserWW( ,
)WW, -
.XX 
OrderByDescendingXX 
(XX 
cXX  
=>XX! #
cXX$ %
.XX% &
IdXX& (
)XX( )
.YY 
SkipYY 
(YY 
skipYY 
)YY 
.ZZ 
TakeZZ 
(ZZ 
takeZZ 
)ZZ 
.[[ 
ToListAsync[[ 
([[ 
)[[ 
;[[ 
return]] 
(]] 
items]] 
,]] 

totalCount]] !
)]]! "
;]]" #
}^^ 
public`` 

async`` 
Task`` 
<`` 

CalendarBo``  
?``  !
>``! ""
GetCalendarSimpleAsync``# 9
(``9 :
int``: =

calendarId``> H
)``H I
{aa 
returnbb 
awaitbb 
_dbSetbb 
.cc 
FirstOrDefaultAsynccc  
(cc  !
ccc! "
=>cc# %
ccc& '
.cc' (
Idcc( *
==cc+ -

calendarIdcc. 8
)cc8 9
;cc9 :
}dd 
publicff 

asyncff 
Taskff 
<ff 
(ff 
Listff 
<ff 

CalendarBoff &
>ff& '
Itemsff( -
,ff- .
intff/ 2

TotalCountff3 =
)ff= >
>ff> ?
GetPagedSimpleAsyncff@ S
(ffS T
intffT W
skipffX \
,ff\ ]
intff^ a
takeffb f
)fff g
{gg 
varhh 

totalCounthh 
=hh 
awaithh 
_dbSethh %
.hh% &

CountAsynchh& 0
(hh0 1
)hh1 2
;hh2 3
varii 
itemsii 
=ii 
awaitii 
_dbSetii  
.jj 
OrderByDescendingjj 
(jj 
cjj  
=>jj! #
cjj$ %
.jj% &
Idjj& (
)jj( )
.kk 
Skipkk 
(kk 
skipkk 
)kk 
.ll 
Takell 
(ll 
takell 
)ll 
.mm 
ToListAsyncmm 
(mm 
)mm 
;mm 
returnnn 
(nn 
itemsnn 
,nn 

totalCountnn !
)nn! "
;nn" #
}oo 
}pp ì0
YC:\Users\micha\Projects\ESN-WebApi\Dal\Migrations\20260111093808_SeedRolesAndAdminUser.cs
	namespace 	
Dal
 
. 

Migrations 
{		 
public 

partial 
class !
SeedRolesAndAdminUser .
:/ 0
	Migration1 :
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 

InsertData '
(' (
table 
: 
$str 
, 
columns 
: 
new 
[ 
] 
{  
$str! %
,% &
$str' 8
,8 9
$str: J
,J K
$strL ]
,] ^
$str_ o
,o p
$str	q Ç
,
Ç É
$str
Ñ î
,
î ï
$str
ñ ú
}
ù û
,
û ü
values 
: 
new 
object "
[" #
,# $
]$ %
{ 
{ 
$num 
, 
true 
, 
true #
,# $
true% )
,) *
true+ /
,/ 0
true1 5
,5 6
true7 ;
,; <
$str= D
}E F
,F G
{ 
$num 
, 
false 
, 
false  %
,% &
false' ,
,, -
false. 3
,3 4
false5 :
,: ;
false< A
,A B
$strC I
}J K
,K L
{ 
$num 
, 
true 
, 
false $
,$ %
false& +
,+ ,
false- 2
,2 3
true4 8
,8 9
true: >
,> ?
$str@ K
}L M
} 
) 
; 
migrationBuilder 
. 

InsertData '
(' (
table 
: 
$str 
, 
columns 
: 
new 
[ 
] 
{  
$str! %
,% &
$str' 2
,2 3
$str4 ?
,? @
$strA H
,H I
$strJ Y
,Y Z
$str[ f
,f g
$strh u
,u v
$str	w Å
,
Å Ç
$str
É ë
,
ë í
$str
ì †
,
† °
$str
¢ ™
,
™ ´
$str
¨ ¥
,
¥ µ
$str
∂ √
,
√ ƒ
$str
≈ ‘
,
‘ ’
$str
÷ Ê
}
Á Ë
,
Ë È
values 
: 
new 
object "
[" #
]# $
{% &
$num' (
,( )
new* -
DateTime. 6
(6 7
$num7 ;
,; <
$num= >
,> ?
$num@ A
,A B
$numC D
,D E
$numF G
,G H
$numI J
,J K
$numL M
,M N
DateTimeKindO [
.[ \
Unspecified\ g
)g h
,h i
newj m
DateTimen v
(v w
$numw {
,{ |
$num} ~
,~ 
$num
Ä Ç
,
Ç É
$num
Ñ Ö
,
Ö Ü
$num
á à
,
à â
$num
ä ã
,
ã å
$num
ç é
,
é è
DateTimeKind
ê ú
.
ú ù
Utc
ù †
)
† °
,
° ¢
$str
£ ±
,
± ≤
null
≥ ∑
,
∑ ∏
$str
π ¿
,
¿ ¡
new
¬ ≈
DateTime
∆ Œ
(
Œ œ
$num
œ ”
,
” ‘
$num
’ ÷
,
÷ ◊
$num
ÿ ⁄
,
⁄ €
$num
‹ ›
,
› ﬁ
$num
ﬂ ‡
,
‡ ·
$num
‚ „
,
„ ‰
$num
Â Ê
,
Ê Á
DateTimeKind
Ë Ù
.
Ù ı
Utc
ı ¯
)
¯ ˘
,
˘ ˙
$str
˚ Ä
,
Ä Å
$str
Ç ÷
,
÷ ◊
$str
ÿ Í
,
Í Î
$num
Ï Ì
,
Ì Ó
$num
Ô 
,
 Ò
$str
Ú ˛
,
˛ ˇ
null
Ä Ñ
,
Ñ Ö
null
Ü ä
}
ã å
)
å ç
;
ç é
} 	
	protected!! 
override!! 
void!! 
Down!!  $
(!!$ %
MigrationBuilder!!% 5
migrationBuilder!!6 F
)!!F G
{"" 	
migrationBuilder## 
.## 

DeleteData## '
(##' (
table$$ 
:$$ 
$str$$ 
,$$ 
	keyColumn%% 
:%% 
$str%% 
,%%  
keyValue&& 
:&& 
$num&& 
)&& 
;&& 
migrationBuilder(( 
.(( 

DeleteData(( '
(((' (
table)) 
:)) 
$str)) 
,)) 
	keyColumn** 
:** 
$str** 
,**  
keyValue++ 
:++ 
$num++ 
)++ 
;++ 
migrationBuilder-- 
.-- 

DeleteData-- '
(--' (
table.. 
:.. 
$str.. 
,.. 
	keyColumn// 
:// 
$str// 
,//  
keyValue00 
:00 
$num00 
)00 
;00 
migrationBuilder22 
.22 

DeleteData22 '
(22' (
table33 
:33 
$str33 
,33 
	keyColumn44 
:44 
$str44 
,44  
keyValue55 
:55 
$num55 
)55 
;55 
}66 	
}77 
}88 ø
WC:\Users\micha\Projects\ESN-WebApi\Dal\Migrations\20260110161411_AddUserStatusColumn.cs
	namespace 	
Dal
 
. 

Migrations 
{ 
public 

partial 
class 
AddUserStatusColumn ,
:- .
	Migration/ 8
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str 
, 
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
migrationBuilder 
. 
Sql  
(  !
$str $
)$ %
;% &
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder   
.   

DropColumn   '
(  ' (
name!! 
:!! 
$str!! 
,!! 
table"" 
:"" 
$str"" 
)"" 
;""  
}## 	
}$$ 
}%% ´
fC:\Users\micha\Projects\ESN-WebApi\Dal\Migrations\20260104152749_AddUniqueConstraintCalendarEventId.cs
	namespace 	
Dal
 
. 

Migrations 
{ 
public 

partial 
class .
"AddUniqueConstraintCalendarEventId ;
:< =
	Migration> G
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateIndex (
(( )
name 
: 
$str 3
,3 4
table 
: 
$str "
," #
column 
: 
$str !
,! "
unique 
: 
true 
, 
filter 
: 
$str /
)/ 0
;0 1
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	DropIndex &
(& '
name 
: 
$str 3
,3 4
table 
: 
$str "
)" #
;# $
} 	
} 
} Î*
]C:\Users\micha\Projects\ESN-WebApi\Dal\Migrations\20251221172509_AddPropositionVotesManual.cs
	namespace 	
Dal
 
. 

Migrations 
{ 
public		 

partial		 
class		 %
AddPropositionVotesManual		 2
:		3 4
	Migration		5 >
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str (
,( )
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
PropositionId !
=" #
table$ )
.) *
Column* 0
<0 1
int1 4
>4 5
(5 6
type6 :
:: ;
$str< A
,A B
nullableC K
:K L
falseM R
)R S
,S T
UserId 
= 
table "
." #
Column# )
<) *
int* -
>- .
(. /
type/ 3
:3 4
$str5 :
,: ;
nullable< D
:D E
falseF K
)K L
,L M
VoteType 
= 
table $
.$ %
Column% +
<+ ,
int, /
>/ 0
(0 1
type1 5
:5 6
$str7 <
,< =
nullable> F
:F G
falseH M
)M N
,N O
	CreatedAt 
= 
table  %
.% &
Column& ,
<, -
DateTime- 5
>5 6
(6 7
type7 ;
:; <
$str= G
,G H
nullableI Q
:Q R
falseS X
,X Y
defaultValueSqlZ i
:i j
$strk x
)x y
,y z
	UpdatedAt 
= 
table  %
.% &
Column& ,
<, -
DateTime- 5
>5 6
(6 7
type7 ;
:; <
$str= G
,G H
nullableI Q
:Q R
trueS W
)W X
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% E
,E F
xG H
=>I K
xL M
.M N
IdN P
)P Q
;Q R
table 
. 

ForeignKey $
($ %
name 
: 
$str @
,@ A
column 
: 
x  !
=>" $
x% &
.& '
PropositionId' 4
,4 5
principalTable   &
:  & '
$str  ( 6
,  6 7
principalColumn!! '
:!!' (
$str!!) -
,!!- .
onDelete""  
:""  !
ReferentialAction""" 3
.""3 4
Cascade""4 ;
)""; <
;""< =
table## 
.## 

ForeignKey## $
(##$ %
name$$ 
:$$ 
$str$$ 9
,$$9 :
column%% 
:%% 
x%%  !
=>%%" $
x%%% &
.%%& '
UserId%%' -
,%%- .
principalTable&& &
:&&& '
$str&&( /
,&&/ 0
principalColumn'' '
:''' (
$str'') -
,''- .
onDelete((  
:((  !
ReferentialAction((" 3
.((3 4
Cascade((4 ;
)((; <
;((< =
})) 
))) 
;)) 
migrationBuilder++ 
.++ 
CreateIndex++ (
(++( )
name,, 
:,, 
$str,, 9
,,,9 :
table-- 
:-- 
$str-- )
,--) *
column.. 
:.. 
$str.. '
)..' (
;..( )
migrationBuilder00 
.00 
CreateIndex00 (
(00( )
name11 
:11 
$str11 <
,11< =
table22 
:22 
$str22 )
,22) *
columns33 
:33 
new33 
[33 
]33 
{33  
$str33! )
,33) *
$str33+ :
}33; <
,33< =
unique44 
:44 
true44 
)44 
;44 
}55 	
	protected88 
override88 
void88 
Down88  $
(88$ %
MigrationBuilder88% 5
migrationBuilder886 F
)88F G
{99 	
migrationBuilder:: 
.:: 
	DropTable:: &
(::& '
name;; 
:;; 
$str;; (
);;( )
;;;) *
}<< 	
}== 
}>> Ÿå
[C:\Users\micha\Projects\ESN-WebApi\Dal\Migrations\20251026185817_UpdateEventUserIdColumn.cs
	namespace 	
Dal
 
. 

Migrations 
{ 
public		 

partial		 
class		 #
UpdateEventUserIdColumn		 0
:		1 2
	Migration		3 <
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Email 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 E
,E F
unicodeG N
:N O
falseP U
,U V
	maxLengthW `
:` a
$numb e
,e f
nullableg o
:o p
falseq v
)v w
,w x
PasswordHash  
=! "
table# (
.( )
Column) /
</ 0
string0 6
>6 7
(7 8
type8 <
:< =
$str> L
,L M
unicodeN U
:U V
falseW \
,\ ]
	maxLength^ g
:g h
$numi l
,l m
nullablen v
:v w
falsex }
)} ~
,~ 
	FirstName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; I
,I J
unicodeK R
:R S
falseT Y
,Y Z
	maxLength[ d
:d e
$numf i
,i j
nullablek s
:s t
falseu z
)z {
,{ |
LastName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: H
,H I
unicodeJ Q
:Q R
falseS X
,X Y
	maxLengthZ c
:c d
$nume h
,h i
nullablej r
:r s
falset y
)y z
,z {
	CreatedAt 
= 
table  %
.% &
Column& ,
<, -
DateTime- 5
>5 6
(6 7
type7 ;
:; <
$str= G
,G H
nullableI Q
:Q R
trueS W
,W X
defaultValueSqlY h
:h i
$strj w
)w x
,x y
LastLoginAt 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
type9 =
:= >
$str? I
,I J
nullableK S
:S T
trueU Y
,Y Z
defaultValueSql[ j
:j k
$strl y
)y z
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% C
,C D
xE F
=>G I
xJ K
.K L
IdL N
)N O
;O P
} 
) 
; 
migrationBuilder   
.   
CreateTable   (
(  ( )
name!! 
:!! 
$str!! 
,!! 
columns"" 
:"" 
table"" 
=>"" !
new""" %
{## 
Id$$ 
=$$ 
table$$ 
.$$ 
Column$$ %
<$$% &
int$$& )
>$$) *
($$* +
type$$+ /
:$$/ 0
$str$$1 6
,$$6 7
nullable$$8 @
:$$@ A
false$$B G
)$$G H
.%% 

Annotation%% #
(%%# $
$str%%$ 8
,%%8 9
$str%%: @
)%%@ A
,%%A B
Name&& 
=&& 
table&&  
.&&  !
Column&&! '
<&&' (
string&&( .
>&&. /
(&&/ 0
type&&0 4
:&&4 5
$str&&6 C
,&&C D
unicode&&E L
:&&L M
false&&N S
,&&S T
	maxLength&&U ^
:&&^ _
$num&&` b
,&&b c
nullable&&d l
:&&l m
false&&n s
)&&s t
,&&t u
CanCreateEvents'' #
=''$ %
table''& +
.''+ ,
Column'', 2
<''2 3
bool''3 7
>''7 8
(''8 9
type''9 =
:''= >
$str''? D
,''D E
nullable''F N
:''N O
false''P U
)''U V
,''V W
CanModifyEvents(( #
=(($ %
table((& +
.((+ ,
Column((, 2
<((2 3
bool((3 7
>((7 8
(((8 9
type((9 =
:((= >
$str((? D
,((D E
nullable((F N
:((N O
false((P U
)((U V
,((V W
CanDeleteEvents)) #
=))$ %
table))& +
.))+ ,
Column)), 2
<))2 3
bool))3 7
>))7 8
())8 9
type))9 =
:))= >
$str))? D
,))D E
nullable))F N
:))N O
false))P U
)))U V
,))V W
CanCreateUsers** "
=**# $
table**% *
.*** +
Column**+ 1
<**1 2
bool**2 6
>**6 7
(**7 8
type**8 <
:**< =
$str**> C
,**C D
nullable**E M
:**M N
false**O T
)**T U
,**U V
CanModifyUsers++ "
=++# $
table++% *
.++* +
Column+++ 1
<++1 2
bool++2 6
>++6 7
(++7 8
type++8 <
:++< =
$str++> C
,++C D
nullable++E M
:++M N
false++O T
)++T U
,++U V
CanDeleteUsers,, "
=,,# $
table,,% *
.,,* +
Column,,+ 1
<,,1 2
bool,,2 6
>,,6 7
(,,7 8
type,,8 <
:,,< =
$str,,> C
,,,C D
nullable,,E M
:,,M N
false,,O T
),,T U
}-- 
,-- 
constraints.. 
:.. 
table.. "
=>..# %
{// 
table00 
.00 

PrimaryKey00 $
(00$ %
$str00% /
,00/ 0
x001 2
=>003 5
x006 7
.007 8
Id008 :
)00: ;
;00; <
}11 
)11 
;11 
migrationBuilder33 
.33 
CreateTable33 (
(33( )
name44 
:44 
$str44 
,44 
columns55 
:55 
table55 
=>55 !
new55" %
{66 
Id77 
=77 
table77 
.77 
Column77 %
<77% &
int77& )
>77) *
(77* +
type77+ /
:77/ 0
$str771 6
,776 7
nullable778 @
:77@ A
false77B G
)77G H
.88 

Annotation88 #
(88# $
$str88$ 8
,888 9
$str88: @
)88@ A
,88A B
Email99 
=99 
table99 !
.99! "
Column99" (
<99( )
string99) /
>99/ 0
(990 1
type991 5
:995 6
$str997 E
,99E F
unicode99G N
:99N O
false99P U
,99U V
	maxLength99W `
:99` a
$num99b e
,99e f
nullable99g o
:99o p
false99q v
)99v w
,99w x
PasswordHash::  
=::! "
table::# (
.::( )
Column::) /
<::/ 0
string::0 6
>::6 7
(::7 8
type::8 <
:::< =
$str::> L
,::L M
unicode::N U
:::U V
false::W \
,::\ ]
	maxLength::^ g
:::g h
$num::i l
,::l m
nullable::n v
:::v w
false::x }
)::} ~
,::~ 
	FirstName;; 
=;; 
table;;  %
.;;% &
Column;;& ,
<;;, -
string;;- 3
>;;3 4
(;;4 5
type;;5 9
:;;9 :
$str;;; I
,;;I J
unicode;;K R
:;;R S
false;;T Y
,;;Y Z
	maxLength;;[ d
:;;d e
$num;;f i
,;;i j
nullable;;k s
:;;s t
false;;u z
);;z {
,;;{ |
LastName<< 
=<< 
table<< $
.<<$ %
Column<<% +
<<<+ ,
string<<, 2
><<2 3
(<<3 4
type<<4 8
:<<8 9
$str<<: H
,<<H I
unicode<<J Q
:<<Q R
false<<S X
,<<X Y
	maxLength<<Z c
:<<c d
$num<<e h
,<<h i
nullable<<j r
:<<r s
false<<t y
)<<y z
,<<z {
	BirthDate== 
=== 
table==  %
.==% &
Column==& ,
<==, -
DateTime==- 5
>==5 6
(==6 7
type==7 ;
:==; <
$str=== G
,==G H
nullable==I Q
:==Q R
false==S X
)==X Y
,==Y Z
PhoneNumber>> 
=>>  !
table>>" '
.>>' (
Column>>( .
<>>. /
string>>/ 5
>>>5 6
(>>6 7
type>>7 ;
:>>; <
$str>>= J
,>>J K
unicode>>L S
:>>S T
false>>U Z
,>>Z [
	maxLength>>\ e
:>>e f
$num>>g i
,>>i j
nullable>>k s
:>>s t
true>>u y
)>>y z
,>>z {
ESNCardNumber?? !
=??" #
table??$ )
.??) *
Column??* 0
<??0 1
string??1 7
>??7 8
(??8 9
type??9 =
:??= >
$str??? L
,??L M
unicode??N U
:??U V
false??W \
,??\ ]
	maxLength??^ g
:??g h
$num??i k
,??k l
nullable??m u
:??u v
true??w {
)??{ |
,??| }
UniversityName@@ "
=@@# $
table@@% *
.@@* +
Column@@+ 1
<@@1 2
string@@2 8
>@@8 9
(@@9 :
type@@: >
:@@> ?
$str@@@ N
,@@N O
unicode@@P W
:@@W X
false@@Y ^
,@@^ _
	maxLength@@` i
:@@i j
$num@@k n
,@@n o
nullable@@p x
:@@x y
true@@z ~
)@@~ 
,	@@ Ä
StudentTypeAA 
=AA  !
tableAA" '
.AA' (
ColumnAA( .
<AA. /
stringAA/ 5
>AA5 6
(AA6 7
typeAA7 ;
:AA; <
$strAA= J
,AAJ K
unicodeAAL S
:AAS T
falseAAU Z
,AAZ [
	maxLengthAA\ e
:AAe f
$numAAg i
,AAi j
nullableAAk s
:AAs t
falseAAu z
)AAz {
,AA{ |
TransportPassBB !
=BB" #
tableBB$ )
.BB) *
ColumnBB* 0
<BB0 1
stringBB1 7
>BB7 8
(BB8 9
typeBB9 =
:BB= >
$strBB? M
,BBM N
unicodeBBO V
:BBV W
falseBBX ]
,BB] ^
	maxLengthBB_ h
:BBh i
$numBBj m
,BBm n
nullableBBo w
:BBw x
trueBBy }
)BB} ~
,BB~ 
	CreatedAtCC 
=CC 
tableCC  %
.CC% &
ColumnCC& ,
<CC, -
DateTimeCC- 5
>CC5 6
(CC6 7
typeCC7 ;
:CC; <
$strCC= G
,CCG H
nullableCCI Q
:CCQ R
trueCCS W
,CCW X
defaultValueSqlCCY h
:CCh i
$strCCj w
)CCw x
,CCx y
LastLoginAtDD 
=DD  !
tableDD" '
.DD' (
ColumnDD( .
<DD. /
DateTimeDD/ 7
>DD7 8
(DD8 9
typeDD9 =
:DD= >
$strDD? I
,DDI J
nullableDDK S
:DDS T
trueDDU Y
,DDY Z
defaultValueSqlDD[ j
:DDj k
$strDDl y
)DDy z
,DDz {
RoleIdEE 
=EE 
tableEE "
.EE" #
ColumnEE# )
<EE) *
intEE* -
>EE- .
(EE. /
typeEE/ 3
:EE3 4
$strEE5 :
,EE: ;
nullableEE< D
:EED E
trueEEF J
)EEJ K
}FF 
,FF 
constraintsGG 
:GG 
tableGG "
=>GG# %
{HH 
tableII 
.II 

PrimaryKeyII $
(II$ %
$strII% B
,IIB C
xIID E
=>IIF H
xIII J
.IIJ K
IdIIK M
)IIM N
;IIN O
tableJJ 
.JJ 

ForeignKeyJJ $
(JJ$ %
nameKK 
:KK 
$strKK 5
,KK5 6
columnLL 
:LL 
xLL  !
=>LL" $
xLL% &
.LL& '
RoleIdLL' -
,LL- .
principalTableMM &
:MM& '
$strMM( /
,MM/ 0
principalColumnNN '
:NN' (
$strNN) -
,NN- .
onDeleteOO  
:OO  !
ReferentialActionOO" 3
.OO3 4
SetNullOO4 ;
)OO; <
;OO< =
}PP 
)PP 
;PP 
migrationBuilderRR 
.RR 
CreateTableRR (
(RR( )
nameSS 
:SS 
$strSS 
,SS 
columnsTT 
:TT 
tableTT 
=>TT !
newTT" %
{UU 
IdVV 
=VV 
tableVV 
.VV 
ColumnVV %
<VV% &
intVV& )
>VV) *
(VV* +
typeVV+ /
:VV/ 0
$strVV1 6
,VV6 7
nullableVV8 @
:VV@ A
falseVVB G
)VVG H
.WW 

AnnotationWW #
(WW# $
$strWW$ 8
,WW8 9
$strWW: @
)WW@ A
,WWA B
TitleXX 
=XX 
tableXX !
.XX! "
ColumnXX" (
<XX( )
stringXX) /
>XX/ 0
(XX0 1
typeXX1 5
:XX5 6
$strXX7 E
,XXE F
unicodeXXG N
:XXN O
falseXXP U
,XXU V
	maxLengthXXW `
:XX` a
$numXXb e
,XXe f
nullableXXg o
:XXo p
falseXXq v
)XXv w
,XXw x
DescriptionYY 
=YY  !
tableYY" '
.YY' (
ColumnYY( .
<YY. /
stringYY/ 5
>YY5 6
(YY6 7
typeYY7 ;
:YY; <
$strYY= C
,YYC D
nullableYYE M
:YYM N
trueYYO S
)YYS T
,YYT U
LocationZZ 
=ZZ 
tableZZ $
.ZZ$ %
ColumnZZ% +
<ZZ+ ,
stringZZ, 2
>ZZ2 3
(ZZ3 4
typeZZ4 8
:ZZ8 9
$strZZ: H
,ZZH I
unicodeZZJ Q
:ZZQ R
falseZZS X
,ZZX Y
	maxLengthZZZ c
:ZZc d
$numZZe h
,ZZh i
nullableZZj r
:ZZr s
trueZZt x
)ZZx y
,ZZy z
	StartDate[[ 
=[[ 
table[[  %
.[[% &
Column[[& ,
<[[, -
DateTime[[- 5
>[[5 6
([[6 7
type[[7 ;
:[[; <
$str[[= G
,[[G H
nullable[[I Q
:[[Q R
false[[S X
)[[X Y
,[[Y Z
EndDate\\ 
=\\ 
table\\ #
.\\# $
Column\\$ *
<\\* +
DateTime\\+ 3
>\\3 4
(\\4 5
type\\5 9
:\\9 :
$str\\; E
,\\E F
nullable\\G O
:\\O P
true\\Q U
)\\U V
,\\V W
MaxParticipants]] #
=]]$ %
table]]& +
.]]+ ,
Column]], 2
<]]2 3
int]]3 6
>]]6 7
(]]7 8
type]]8 <
:]]< =
$str]]> C
,]]C D
nullable]]E M
:]]M N
true]]O S
)]]S T
,]]T U
EventfrogLink^^ !
=^^" #
table^^$ )
.^^) *
Column^^* 0
<^^0 1
string^^1 7
>^^7 8
(^^8 9
type^^9 =
:^^= >
$str^^? M
,^^M N
unicode^^O V
:^^V W
false^^X ]
,^^] ^
nullable^^_ g
:^^g h
true^^i m
)^^m n
,^^n o
UserId__ 
=__ 
table__ "
.__" #
Column__# )
<__) *
int__* -
>__- .
(__. /
type__/ 3
:__3 4
$str__5 :
,__: ;
nullable__< D
:__D E
false__F K
)__K L
,__L M
	CreatedAt`` 
=`` 
table``  %
.``% &
Column``& ,
<``, -
DateTime``- 5
>``5 6
(``6 7
type``7 ;
:``; <
$str``= G
,``G H
nullable``I Q
:``Q R
true``S W
,``W X
defaultValueSql``Y h
:``h i
$str``j w
)``w x
,``x y
SurveyJsDataaa  
=aa! "
tableaa# (
.aa( )
Columnaa) /
<aa/ 0
stringaa0 6
>aa6 7
(aa7 8
typeaa8 <
:aa< =
$straa> L
,aaL M
unicodeaaN U
:aaU V
falseaaW \
,aa\ ]
nullableaa^ f
:aaf g
trueaah l
)aal m
,aam n
AdminIdbb 
=bb 
tablebb #
.bb# $
Columnbb$ *
<bb* +
intbb+ .
>bb. /
(bb/ 0
typebb0 4
:bb4 5
$strbb6 ;
,bb; <
nullablebb= E
:bbE F
truebbG K
)bbK L
}cc 
,cc 
constraintsdd 
:dd 
tabledd "
=>dd# %
{ee 
tableff 
.ff 

PrimaryKeyff $
(ff$ %
$strff% C
,ffC D
xffE F
=>ffG I
xffJ K
.ffK L
IdffL N
)ffN O
;ffO P
tablegg 
.gg 

ForeignKeygg $
(gg$ %
namehh 
:hh 
$strhh 8
,hh8 9
columnii 
:ii 
xii  !
=>ii" $
xii% &
.ii& '
AdminIdii' .
,ii. /
principalTablejj &
:jj& '
$strjj( 0
,jj0 1
principalColumnkk '
:kk' (
$strkk) -
)kk- .
;kk. /
tablell 
.ll 

ForeignKeyll $
(ll$ %
namemm 
:mm 
$strmm /
,mm/ 0
columnnn 
:nn 
xnn  !
=>nn" $
xnn% &
.nn& '
UserIdnn' -
,nn- .
principalTableoo &
:oo& '
$stroo( /
,oo/ 0
principalColumnpp '
:pp' (
$strpp) -
,pp- .
onDeleteqq  
:qq  !
ReferentialActionqq" 3
.qq3 4
Restrictqq4 <
)qq< =
;qq= >
}rr 
)rr 
;rr 
migrationBuildertt 
.tt 
CreateTablett (
(tt( )
nameuu 
:uu 
$struu $
,uu$ %
columnsvv 
:vv 
tablevv 
=>vv !
newvv" %
{ww 
Idxx 
=xx 
tablexx 
.xx 
Columnxx %
<xx% &
intxx& )
>xx) *
(xx* +
typexx+ /
:xx/ 0
$strxx1 6
,xx6 7
nullablexx8 @
:xx@ A
falsexxB G
)xxG H
.yy 

Annotationyy #
(yy# $
$stryy$ 8
,yy8 9
$stryy: @
)yy@ A
,yyA B
Titlezz 
=zz 
tablezz !
.zz! "
Columnzz" (
<zz( )
stringzz) /
>zz/ 0
(zz0 1
typezz1 5
:zz5 6
$strzz7 E
,zzE F
unicodezzG N
:zzN O
falsezzP U
,zzU V
	maxLengthzzW `
:zz` a
$numzzb e
,zze f
nullablezzg o
:zzo p
falsezzq v
)zzv w
,zzw x
Description{{ 
={{  !
table{{" '
.{{' (
Column{{( .
<{{. /
string{{/ 5
>{{5 6
({{6 7
type{{7 ;
:{{; <
$str{{= C
,{{C D
nullable{{E M
:{{M N
false{{O T
){{T U
,{{U V
UserId|| 
=|| 
table|| "
.||" #
Column||# )
<||) *
int||* -
>||- .
(||. /
type||/ 3
:||3 4
$str||5 :
,||: ;
nullable||< D
:||D E
false||F K
)||K L
,||L M
	CreatedAt}} 
=}} 
table}}  %
.}}% &
Column}}& ,
<}}, -
DateTime}}- 5
>}}5 6
(}}6 7
type}}7 ;
:}}; <
$str}}= G
,}}G H
nullable}}I Q
:}}Q R
true}}S W
,}}W X
defaultValueSql}}Y h
:}}h i
$str}}j w
)}}w x
,}}x y

ModifiedAt~~ 
=~~  
table~~! &
.~~& '
Column~~' -
<~~- .
DateTime~~. 6
>~~6 7
(~~7 8
type~~8 <
:~~< =
$str~~> H
,~~H I
nullable~~J R
:~~R S
true~~T X
)~~X Y
,~~Y Z
	DeletedAt 
= 
table  %
.% &
Column& ,
<, -
DateTime- 5
>5 6
(6 7
type7 ;
:; <
$str= G
,G H
nullableI Q
:Q R
trueS W
)W X
,X Y
VotesUp
ÄÄ 
=
ÄÄ 
table
ÄÄ #
.
ÄÄ# $
Column
ÄÄ$ *
<
ÄÄ* +
int
ÄÄ+ .
>
ÄÄ. /
(
ÄÄ/ 0
type
ÄÄ0 4
:
ÄÄ4 5
$str
ÄÄ6 ;
,
ÄÄ; <
nullable
ÄÄ= E
:
ÄÄE F
false
ÄÄG L
,
ÄÄL M
defaultValue
ÄÄN Z
:
ÄÄZ [
$num
ÄÄ\ ]
)
ÄÄ] ^
,
ÄÄ^ _
	VotesDown
ÅÅ 
=
ÅÅ 
table
ÅÅ  %
.
ÅÅ% &
Column
ÅÅ& ,
<
ÅÅ, -
int
ÅÅ- 0
>
ÅÅ0 1
(
ÅÅ1 2
type
ÅÅ2 6
:
ÅÅ6 7
$str
ÅÅ8 =
,
ÅÅ= >
nullable
ÅÅ? G
:
ÅÅG H
false
ÅÅI N
,
ÅÅN O
defaultValue
ÅÅP \
:
ÅÅ\ ]
$num
ÅÅ^ _
)
ÅÅ_ `
,
ÅÅ` a
	IsDeleted
ÇÇ 
=
ÇÇ 
table
ÇÇ  %
.
ÇÇ% &
Column
ÇÇ& ,
<
ÇÇ, -
bool
ÇÇ- 1
>
ÇÇ1 2
(
ÇÇ2 3
type
ÇÇ3 7
:
ÇÇ7 8
$str
ÇÇ9 >
,
ÇÇ> ?
nullable
ÇÇ@ H
:
ÇÇH I
false
ÇÇJ O
,
ÇÇO P
defaultValue
ÇÇQ ]
:
ÇÇ] ^
false
ÇÇ_ d
)
ÇÇd e
}
ÉÉ 
,
ÉÉ 
constraints
ÑÑ 
:
ÑÑ 
table
ÑÑ "
=>
ÑÑ# %
{
ÖÖ 
table
ÜÜ 
.
ÜÜ 

PrimaryKey
ÜÜ $
(
ÜÜ$ %
$str
ÜÜ% A
,
ÜÜA B
x
ÜÜC D
=>
ÜÜE G
x
ÜÜH I
.
ÜÜI J
Id
ÜÜJ L
)
ÜÜL M
;
ÜÜM N
table
áá 
.
áá 

ForeignKey
áá $
(
áá$ %
name
àà 
:
àà 
$str
àà 5
,
àà5 6
column
ââ 
:
ââ 
x
ââ  !
=>
ââ" $
x
ââ% &
.
ââ& '
UserId
ââ' -
,
ââ- .
principalTable
ää &
:
ää& '
$str
ää( /
,
ää/ 0
principalColumn
ãã '
:
ãã' (
$str
ãã) -
,
ãã- .
onDelete
åå  
:
åå  !
ReferentialAction
åå" 3
.
åå3 4
Cascade
åå4 ;
)
åå; <
;
åå< =
}
çç 
)
çç 
;
çç 
migrationBuilder
èè 
.
èè 
CreateTable
èè (
(
èè( )
name
êê 
:
êê 
$str
êê *
,
êê* +
columns
ëë 
:
ëë 
table
ëë 
=>
ëë !
new
ëë" %
{
íí 
Id
ìì 
=
ìì 
table
ìì 
.
ìì 
Column
ìì %
<
ìì% &
int
ìì& )
>
ìì) *
(
ìì* +
type
ìì+ /
:
ìì/ 0
$str
ìì1 6
,
ìì6 7
nullable
ìì8 @
:
ìì@ A
false
ììB G
)
ììG H
.
îî 

Annotation
îî #
(
îî# $
$str
îî$ 8
,
îî8 9
$str
îî: @
)
îî@ A
,
îîA B
UserId
ïï 
=
ïï 
table
ïï "
.
ïï" #
Column
ïï# )
<
ïï) *
int
ïï* -
>
ïï- .
(
ïï. /
type
ïï/ 3
:
ïï3 4
$str
ïï5 :
,
ïï: ;
nullable
ïï< D
:
ïïD E
false
ïïF K
)
ïïK L
,
ïïL M
EventId
ññ 
=
ññ 
table
ññ #
.
ññ# $
Column
ññ$ *
<
ññ* +
int
ññ+ .
>
ññ. /
(
ññ/ 0
type
ññ0 4
:
ññ4 5
$str
ññ6 ;
,
ññ; <
nullable
ññ= E
:
ññE F
false
ññG L
)
ññL M
,
ññM N
RegisteredAt
óó  
=
óó! "
table
óó# (
.
óó( )
Column
óó) /
<
óó/ 0
DateTime
óó0 8
>
óó8 9
(
óó9 :
type
óó: >
:
óó> ?
$str
óó@ J
,
óóJ K
nullable
óóL T
:
óóT U
true
óóV Z
,
óóZ [
defaultValueSql
óó\ k
:
óók l
$str
óóm z
)
óóz {
,
óó{ |
Status
òò 
=
òò 
table
òò "
.
òò" #
Column
òò# )
<
òò) *
string
òò* 0
>
òò0 1
(
òò1 2
type
òò2 6
:
òò6 7
$str
òò8 E
,
òòE F
unicode
òòG N
:
òòN O
false
òòP U
,
òòU V
	maxLength
òòW `
:
òò` a
$num
òòb d
,
òòd e
nullable
òòf n
:
òòn o
false
òòp u
,
òòu v
defaultValueòòw É
:òòÉ Ñ
$stròòÖ ë
)òòë í
}
ôô 
,
ôô 
constraints
öö 
:
öö 
table
öö "
=>
öö# %
{
õõ 
table
úú 
.
úú 

PrimaryKey
úú $
(
úú$ %
$str
úú% E
,
úúE F
x
úúG H
=>
úúI K
x
úúL M
.
úúM N
Id
úúN P
)
úúP Q
;
úúQ R
table
ùù 
.
ùù 

ForeignKey
ùù $
(
ùù$ %
name
ûû 
:
ûû 
$str
ûû 7
,
ûû7 8
column
üü 
:
üü 
x
üü  !
=>
üü" $
x
üü% &
.
üü& '
EventId
üü' .
,
üü. /
principalTable
†† &
:
††& '
$str
††( 0
,
††0 1
principalColumn
°° '
:
°°' (
$str
°°) -
,
°°- .
onDelete
¢¢  
:
¢¢  !
ReferentialAction
¢¢" 3
.
¢¢3 4
Cascade
¢¢4 ;
)
¢¢; <
;
¢¢< =
table
££ 
.
££ 

ForeignKey
££ $
(
££$ %
name
§§ 
:
§§ 
$str
§§ 6
,
§§6 7
column
•• 
:
•• 
x
••  !
=>
••" $
x
••% &
.
••& '
UserId
••' -
,
••- .
principalTable
¶¶ &
:
¶¶& '
$str
¶¶( /
,
¶¶/ 0
principalColumn
ßß '
:
ßß' (
$str
ßß) -
,
ßß- .
onDelete
®®  
:
®®  !
ReferentialAction
®®" 3
.
®®3 4
Cascade
®®4 ;
)
®®; <
;
®®< =
}
©© 
)
©© 
;
©© 
migrationBuilder
´´ 
.
´´ 
CreateIndex
´´ (
(
´´( )
name
¨¨ 
:
¨¨ 
$str
¨¨ 4
,
¨¨4 5
table
≠≠ 
:
≠≠ 
$str
≠≠ 
,
≠≠  
column
ÆÆ 
:
ÆÆ 
$str
ÆÆ 
,
ÆÆ  
unique
ØØ 
:
ØØ 
true
ØØ 
)
ØØ 
;
ØØ 
migrationBuilder
±± 
.
±± 
CreateIndex
±± (
(
±±( )
name
≤≤ 
:
≤≤ 
$str
≤≤ 5
,
≤≤5 6
table
≥≥ 
:
≥≥ 
$str
≥≥ +
,
≥≥+ ,
column
¥¥ 
:
¥¥ 
$str
¥¥ !
)
¥¥! "
;
¥¥" #
migrationBuilder
∂∂ 
.
∂∂ 
CreateIndex
∂∂ (
(
∂∂( )
name
∑∑ 
:
∑∑ 
$str
∑∑ '
,
∑∑' (
table
∏∏ 
:
∏∏ 
$str
∏∏ +
,
∏∏+ ,
columns
ππ 
:
ππ 
new
ππ 
[
ππ 
]
ππ 
{
ππ  
$str
ππ! )
,
ππ) *
$str
ππ+ 4
}
ππ5 6
,
ππ6 7
unique
∫∫ 
:
∫∫ 
true
∫∫ 
)
∫∫ 
;
∫∫ 
migrationBuilder
ºº 
.
ºº 
CreateIndex
ºº (
(
ºº( )
name
ΩΩ 
:
ΩΩ 
$str
ΩΩ )
,
ΩΩ) *
table
ææ 
:
ææ 
$str
ææ 
,
ææ  
column
øø 
:
øø 
$str
øø !
)
øø! "
;
øø" #
migrationBuilder
¡¡ 
.
¡¡ 
CreateIndex
¡¡ (
(
¡¡( )
name
¬¬ 
:
¬¬ 
$str
¬¬ (
,
¬¬( )
table
√√ 
:
√√ 
$str
√√ 
,
√√  
column
ƒƒ 
:
ƒƒ 
$str
ƒƒ  
)
ƒƒ  !
;
ƒƒ! "
migrationBuilder
∆∆ 
.
∆∆ 
CreateIndex
∆∆ (
(
∆∆( )
name
«« 
:
«« 
$str
«« .
,
««. /
table
»» 
:
»» 
$str
»» %
,
»»% &
column
…… 
:
…… 
$str
……  
)
……  !
;
……! "
migrationBuilder
ÀÀ 
.
ÀÀ 
CreateIndex
ÀÀ (
(
ÀÀ( )
name
ÃÃ 
:
ÃÃ 
$str
ÃÃ %
,
ÃÃ% &
table
ÕÕ 
:
ÕÕ 
$str
ÕÕ 
,
ÕÕ 
column
ŒŒ 
:
ŒŒ 
$str
ŒŒ 
,
ŒŒ 
unique
œœ 
:
œœ 
true
œœ 
)
œœ 
;
œœ 
migrationBuilder
—— 
.
—— 
CreateIndex
—— (
(
——( )
name
““ 
:
““ 
$str
““ '
,
““' (
table
”” 
:
”” 
$str
”” 
,
”” 
column
‘‘ 
:
‘‘ 
$str
‘‘  
)
‘‘  !
;
‘‘! "
migrationBuilder
÷÷ 
.
÷÷ 
CreateIndex
÷÷ (
(
÷÷( )
name
◊◊ 
:
◊◊ 
$str
◊◊ 3
,
◊◊3 4
table
ÿÿ 
:
ÿÿ 
$str
ÿÿ 
,
ÿÿ 
column
ŸŸ 
:
ŸŸ 
$str
ŸŸ 
,
ŸŸ  
unique
⁄⁄ 
:
⁄⁄ 
true
⁄⁄ 
)
⁄⁄ 
;
⁄⁄ 
}
€€ 	
	protected
ﬁﬁ 
override
ﬁﬁ 
void
ﬁﬁ 
Down
ﬁﬁ  $
(
ﬁﬁ$ %
MigrationBuilder
ﬁﬁ% 5
migrationBuilder
ﬁﬁ6 F
)
ﬁﬁF G
{
ﬂﬂ 	
migrationBuilder
‡‡ 
.
‡‡ 
	DropTable
‡‡ &
(
‡‡& '
name
·· 
:
·· 
$str
·· *
)
··* +
;
··+ ,
migrationBuilder
„„ 
.
„„ 
	DropTable
„„ &
(
„„& '
name
‰‰ 
:
‰‰ 
$str
‰‰ $
)
‰‰$ %
;
‰‰% &
migrationBuilder
ÊÊ 
.
ÊÊ 
	DropTable
ÊÊ &
(
ÊÊ& '
name
ÁÁ 
:
ÁÁ 
$str
ÁÁ 
)
ÁÁ 
;
ÁÁ  
migrationBuilder
ÈÈ 
.
ÈÈ 
	DropTable
ÈÈ &
(
ÈÈ& '
name
ÍÍ 
:
ÍÍ 
$str
ÍÍ 
)
ÍÍ 
;
ÍÍ  
migrationBuilder
ÏÏ 
.
ÏÏ 
	DropTable
ÏÏ &
(
ÏÏ& '
name
ÌÌ 
:
ÌÌ 
$str
ÌÌ 
)
ÌÌ 
;
ÌÌ 
migrationBuilder
ÔÔ 
.
ÔÔ 
	DropTable
ÔÔ &
(
ÔÔ& '
name
 
:
 
$str
 
)
 
;
 
}
ÒÒ 	
}
ÚÚ 
}ÛÛ €∞
7C:\Users\micha\Projects\ESN-WebApi\Dal\EsnDevContext.cs
	namespace 	
Dal
 
; 
public 
partial 
class 
EsnDevContext "
:# $
	DbContext% .
{ 
public 

EsnDevContext 
( 
) 
{		 
}

 
public 

EsnDevContext 
( 
DbContextOptions )
<) *
EsnDevContext* 7
>7 8
options9 @
)@ A
: 	
base
 
( 
options 
) 
{ 
} 
public 

virtual 
DbSet 
< 
AdminBo  
>  !
Admins" (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 

virtual 
DbSet 
< 
EventBo  
>  !
Events" (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 

virtual 
DbSet 
< 
EventRegistrationBo ,
>, -
EventRegistrations. @
{A B
getC F
;F G
setH K
;K L
}M N
public 

virtual 
DbSet 
< 
EventTemplateBo (
>( )
EventTemplates* 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 

virtual 
DbSet 
< 
UserBo 
>  
Users! &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 

virtual 
DbSet 
< 
RoleBo 
>  
Roles! &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 

virtual 
DbSet 
< 
PropositionBo &
>& '
Propositions( 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
public 

virtual 
DbSet 
< 
PropositionVoteBo *
>* +
PropositionVotes, <
{= >
get? B
;B C
setD G
;G H
}I J
public 

virtual 
DbSet 
< 

CalendarBo #
># $
	Calendars% .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 

virtual 
DbSet 
< "
CalendarSubOrganizerBo /
>/ 0!
CalendarSubOrganizers1 F
{G H
getI L
;L M
setN Q
;Q R
}S T
	protected 
override 
void 
OnModelCreating +
(+ ,
ModelBuilder, 8
modelBuilder9 E
)E F
{ 
modelBuilder 
. 
Entity 
< 
AdminBo #
># $
($ %
entity% +
=>, .
{ 	
entity   
.   
HasKey   
(   
e   
=>   
e    
.    !
Id  ! #
)  # $
.  $ %
HasName  % ,
(  , -
$str  - K
)  K L
;  L M
entity!! 
.!! 
HasIndex!! 
(!! 
e!! 
=>!!  
e!!! "
.!!" #
Email!!# (
,!!( )
$str!!* H
)!!H I
.!!I J
IsUnique!!J R
(!!R S
)!!S T
;!!T U
entity## 
.## 
Property## 
(## 
e## 
=>##  
e##! "
.##" #
Email### (
)##( )
.##) *
HasMaxLength##* 6
(##6 7
$num##7 :
)##: ;
.##; <
	IsUnicode##< E
(##E F
false##F K
)##K L
;##L M
entity$$ 
.$$ 
Property$$ 
($$ 
e$$ 
=>$$  
e$$! "
.$$" #
PasswordHash$$# /
)$$/ 0
.$$0 1
HasMaxLength$$1 =
($$= >
$num$$> A
)$$A B
.$$B C
	IsUnicode$$C L
($$L M
false$$M R
)$$R S
;$$S T
entity%% 
.%% 
Property%% 
(%% 
e%% 
=>%%  
e%%! "
.%%" #
	FirstName%%# ,
)%%, -
.%%- .
HasMaxLength%%. :
(%%: ;
$num%%; >
)%%> ?
.%%? @
	IsUnicode%%@ I
(%%I J
false%%J O
)%%O P
;%%P Q
entity&& 
.&& 
Property&& 
(&& 
e&& 
=>&&  
e&&! "
.&&" #
LastName&&# +
)&&+ ,
.&&, -
HasMaxLength&&- 9
(&&9 :
$num&&: =
)&&= >
.&&> ?
	IsUnicode&&? H
(&&H I
false&&I N
)&&N O
;&&O P
entity'' 
.'' 
Property'' 
('' 
e'' 
=>''  
e''! "
.''" #
	CreatedAt''# ,
)'', -
.''- .
HasDefaultValueSql''. @
(''@ A
$str''A N
)''N O
.''O P
HasColumnType''P ]
(''] ^
$str''^ h
)''h i
;''i j
entity(( 
.(( 
Property(( 
((( 
e(( 
=>((  
e((! "
.((" #
LastLoginAt((# .
)((. /
.((/ 0
HasDefaultValueSql((0 B
(((B C
$str((C P
)((P Q
.((Q R
HasColumnType((R _
(((_ `
$str((` j
)((j k
;((k l
})) 	
)))	 

;))
 
modelBuilder++ 
.++ 
Entity++ 
<++ 
EventBo++ #
>++# $
(++$ %
entity++% +
=>++, .
{,, 	
entity-- 
.-- 
HasKey-- 
(-- 
e-- 
=>-- 
e--  
.--  !
Id--! #
)--# $
.--$ %
HasName--% ,
(--, -
$str--- K
)--K L
;--L M
entity// 
.// 
Property// 
(// 
e// 
=>//  
e//! "
.//" #
Title//# (
)//( )
.//) *
HasMaxLength//* 6
(//6 7
$num//7 :
)//: ;
.//; <
	IsUnicode//< E
(//E F
false//F K
)//K L
.//L M

IsRequired//M W
(//W X
)//X Y
;//Y Z
entity00 
.00 
Property00 
(00 
e00 
=>00  
e00! "
.00" #
Description00# .
)00. /
.00/ 0
HasColumnType000 =
(00= >
$str00> D
)00D E
;00E F
entity11 
.11 
Property11 
(11 
e11 
=>11  
e11! "
.11" #
Location11# +
)11+ ,
.11, -
HasMaxLength11- 9
(119 :
$num11: =
)11= >
.11> ?
	IsUnicode11? H
(11H I
false11I N
)11N O
;11O P
entity22 
.22 
Property22 
(22 
e22 
=>22  
e22! "
.22" #
	StartDate22# ,
)22, -
.22- .
HasColumnType22. ;
(22; <
$str22< F
)22F G
.22G H

IsRequired22H R
(22R S
)22S T
;22T U
entity33 
.33 
Property33 
(33 
e33 
=>33  
e33! "
.33" #
EndDate33# *
)33* +
.33+ ,
HasColumnType33, 9
(339 :
$str33: D
)33D E
;33E F
entity44 
.44 
Property44 
(44 
e44 
=>44  
e44! "
.44" #
	CreatedAt44# ,
)44, -
.44- .
HasDefaultValueSql44. @
(44@ A
$str44A N
)44N O
.44O P
HasColumnType44P ]
(44] ^
$str44^ h
)44h i
;44i j
entity55 
.55 
Property55 
(55 
e55 
=>55  
e55! "
.55" #
EventfrogLink55# 0
)550 1
.551 2
	IsUnicode552 ;
(55; <
false55< A
)55A B
;55B C
entity66 
.66 
Property66 
(66 
e66 
=>66  
e66! "
.66" #
SurveyJsData66# /
)66/ 0
.660 1
	IsUnicode661 :
(66: ;
false66; @
)66@ A
;66A B
entity77 
.77 
Property77 
(77 
e77 
=>77  
e77! "
.77" #
UserId77# )
)77) *
.77* +

IsRequired77+ 5
(775 6
)776 7
;777 8
entity99 
.99 
HasOne99 
(99 
d99 
=>99 
d99  
.99  !
User99! %
)99% &
.:: 
WithMany:: 
(:: 
p:: 
=>:: 
p::  
.::  !
Events::! '
)::' (
.;; 
HasForeignKey;; 
(;; 
d;;  
=>;;! #
d;;$ %
.;;% &
UserId;;& ,
);;, -
.<< 
OnDelete<< 
(<< 
DeleteBehavior<< (
.<<( )
Restrict<<) 1
)<<1 2
.== 
HasConstraintName== "
(==" #
$str==# 4
)==4 5
;==5 6
}>> 	
)>>	 

;>>
 
modelBuilder@@ 
.@@ 
Entity@@ 
<@@ 
EventRegistrationBo@@ /
>@@/ 0
(@@0 1
entity@@1 7
=>@@8 :
{AA 	
entityBB 
.BB 
HasKeyBB 
(BB 
eBB 
=>BB 
eBB  
.BB  !
IdBB! #
)BB# $
.BB$ %
HasNameBB% ,
(BB, -
$strBB- M
)BBM N
;BBN O
entityDD 
.DD 
HasIndexDD 
(DD 
eDD 
=>DD  
newDD! $
{DD% &
eDD' (
.DD( )
UserIdDD) /
,DD/ 0
eDD1 2
.DD2 3
EventIdDD3 :
}DD; <
,DD< =
$strDD> O
)DDO P
.DDP Q
IsUniqueDDQ Y
(DDY Z
)DDZ [
;DD[ \
entityFF 
.FF 
PropertyFF 
(FF 
eFF 
=>FF  
eFF! "
.FF" #
RegisteredAtFF# /
)FF/ 0
.GG 
HasDefaultValueSqlGG #
(GG# $
$strGG$ 1
)GG1 2
.HH 
HasColumnTypeHH 
(HH 
$strHH )
)HH) *
;HH* +
entityII 
.II 
PropertyII 
(II 
eII 
=>II  
eII! "
.II" #
SurveyJsDataII# /
)II/ 0
.II0 1
	IsUnicodeII1 :
(II: ;
falseII; @
)II@ A
;IIA B
entityJJ 
.JJ 
PropertyJJ 
(JJ 
eJJ 
=>JJ  
eJJ! "
.JJ" #
StatusJJ# )
)JJ) *
.KK 
HasMaxLengthKK 
(KK 
$numKK  
)KK  !
.LL 
	IsUnicodeLL 
(LL 
falseLL  
)LL  !
.MM 
HasDefaultValueMM  
(MM  !
$strMM! -
)MM- .
;MM. /
entityOO 
.OO 
HasOneOO 
(OO 
dOO 
=>OO 
dOO  
.OO  !
EventOO! &
)OO& '
.PP 
WithManyPP 
(PP 
pPP 
=>PP 
pPP  
.PP  !
EventRegistrationsPP! 3
)PP3 4
.QQ 
HasForeignKeyQQ 
(QQ 
dQQ  
=>QQ! #
dQQ$ %
.QQ% &
EventIdQQ& -
)QQ- .
.RR 
OnDeleteRR 
(RR 
DeleteBehaviorRR (
.RR( )
CascadeRR) 0
)RR0 1
.SS 
HasConstraintNameSS "
(SS" #
$strSS# <
)SS< =
;SS= >
entityUU 
.UU 
HasOneUU 
(UU 
dUU 
=>UU 
dUU  
.UU  !
UserUU! %
)UU% &
.VV 
WithManyVV 
(VV 
pVV 
=>VV 
pVV  
.VV  !
EventRegistrationsVV! 3
)VV3 4
.WW 
HasForeignKeyWW 
(WW 
dWW  
=>WW! #
dWW$ %
.WW% &
UserIdWW& ,
)WW, -
.XX 
OnDeleteXX 
(XX 
DeleteBehaviorXX (
.XX( )
CascadeXX) 0
)XX0 1
.YY 
HasConstraintNameYY "
(YY" #
$strYY# ;
)YY; <
;YY< =
}ZZ 	
)ZZ	 

;ZZ
 
modelBuilder\\ 
.\\ 
Entity\\ 
<\\ 
UserBo\\ "
>\\" #
(\\# $
entity\\$ *
=>\\+ -
{]] 	
entity^^ 
.^^ 
HasKey^^ 
(^^ 
e^^ 
=>^^ 
e^^  
.^^  !
Id^^! #
)^^# $
.^^$ %
HasName^^% ,
(^^, -
$str^^- J
)^^J K
;^^K L
entity__ 
.__ 
HasIndex__ 
(__ 
e__ 
=>__  
e__! "
.__" #
Email__# (
,__( )
$str__* G
)__G H
.__H I
IsUnique__I Q
(__Q R
)__R S
;__S T
entityaa 
.aa 
Propertyaa 
(aa 
eaa 
=>aa  
eaa! "
.aa" #
Emailaa# (
)aa( )
.aa) *
HasMaxLengthaa* 6
(aa6 7
$numaa7 :
)aa: ;
.aa; <
	IsUnicodeaa< E
(aaE F
falseaaF K
)aaK L
;aaL M
entitybb 
.bb 
Propertybb 
(bb 
ebb 
=>bb  
ebb! "
.bb" #
PasswordHashbb# /
)bb/ 0
.bb0 1
HasMaxLengthbb1 =
(bb= >
$numbb> A
)bbA B
.bbB C
	IsUnicodebbC L
(bbL M
falsebbM R
)bbR S
;bbS T
entitycc 
.cc 
Propertycc 
(cc 
ecc 
=>cc  
ecc! "
.cc" #
	FirstNamecc# ,
)cc, -
.cc- .
HasMaxLengthcc. :
(cc: ;
$numcc; >
)cc> ?
.cc? @
	IsUnicodecc@ I
(ccI J
falseccJ O
)ccO P
;ccP Q
entitydd 
.dd 
Propertydd 
(dd 
edd 
=>dd  
edd! "
.dd" #
LastNamedd# +
)dd+ ,
.dd, -
HasMaxLengthdd- 9
(dd9 :
$numdd: =
)dd= >
.dd> ?
	IsUnicodedd? H
(ddH I
falseddI N
)ddN O
;ddO P
entityee 
.ee 
Propertyee 
(ee 
eee 
=>ee  
eee! "
.ee" #
	BirthDateee# ,
)ee, -
.ee- .
HasColumnTypeee. ;
(ee; <
$stree< F
)eeF G
;eeG H
entityff 
.ff 
Propertyff 
(ff 
eff 
=>ff  
eff! "
.ff" #
PhoneNumberff# .
)ff. /
.ff/ 0
HasMaxLengthff0 <
(ff< =
$numff= ?
)ff? @
.ff@ A
	IsUnicodeffA J
(ffJ K
falseffK P
)ffP Q
;ffQ R
entitygg 
.gg 
Propertygg 
(gg 
egg 
=>gg  
egg! "
.gg" #
EsnCardNumbergg# 0
)gg0 1
.gg1 2
HasMaxLengthgg2 >
(gg> ?
$numgg? A
)ggA B
.ggB C
	IsUnicodeggC L
(ggL M
falseggM R
)ggR S
.ggS T
HasColumnNameggT a
(gga b
$strggb q
)ggq r
;ggr s
entityhh 
.hh 
Propertyhh 
(hh 
ehh 
=>hh  
ehh! "
.hh" #
UniversityNamehh# 1
)hh1 2
.hh2 3
HasMaxLengthhh3 ?
(hh? @
$numhh@ C
)hhC D
.hhD E
	IsUnicodehhE N
(hhN O
falsehhO T
)hhT U
;hhU V
entityii 
.ii 
Propertyii 
(ii 
eii 
=>ii  
eii! "
.ii" #
StudentTypeii# .
)ii. /
.ii/ 0
HasMaxLengthii0 <
(ii< =
$numii= ?
)ii? @
.ii@ A
	IsUnicodeiiA J
(iiJ K
falseiiK P
)iiP Q
;iiQ R
entityjj 
.jj 
Propertyjj 
(jj 
ejj 
=>jj  
ejj! "
.jj" #
TransportPassjj# 0
)jj0 1
.jj1 2
HasMaxLengthjj2 >
(jj> ?
$numjj? B
)jjB C
.jjC D
	IsUnicodejjD M
(jjM N
falsejjN S
)jjS T
;jjT U
entitykk 
.kk 
Propertykk 
(kk 
ekk 
=>kk  
ekk! "
.kk" #
	CreatedAtkk# ,
)kk, -
.kk- .
HasDefaultValueSqlkk. @
(kk@ A
$strkkA N
)kkN O
.kkO P
HasColumnTypekkP ]
(kk] ^
$strkk^ h
)kkh i
;kki j
entityll 
.ll 
Propertyll 
(ll 
ell 
=>ll  
ell! "
.ll" #
LastLoginAtll# .
)ll. /
.ll/ 0
HasDefaultValueSqlll0 B
(llB C
$strllC P
)llP Q
.llQ R
HasColumnTypellR _
(ll_ `
$strll` j
)llj k
;llk l
}mm 	
)mm	 

;mm
 
modelBuilderoo 
.oo 
Entityoo 
<oo 
RoleBooo "
>oo" #
(oo# $
entityoo$ *
=>oo+ -
{pp 	
entityqq 
.qq 
HasKeyqq 
(qq 
rqq 
=>qq 
rqq  
.qq  !
Idqq! #
)qq# $
;qq$ %
entityrr 
.rr 
HasIndexrr 
(rr 
rrr 
=>rr  
rrr! "
.rr" #
Namerr# '
)rr' (
.rr( )
IsUniquerr) 1
(rr1 2
)rr2 3
;rr3 4
entityss 
.ss 
Propertyss 
(ss 
rss 
=>ss  
rss! "
.ss" #
Namess# '
)ss' (
.ss( )
HasMaxLengthss) 5
(ss5 6
$numss6 8
)ss8 9
.ss9 :
	IsUnicodess: C
(ssC D
falsessD I
)ssI J
;ssJ K
entityuu 
.uu 
Propertyuu 
(uu 
ruu 
=>uu  
ruu! "
.uu" #
CanCreateEventsuu# 2
)uu2 3
.uu3 4

IsRequireduu4 >
(uu> ?
)uu? @
;uu@ A
entityvv 
.vv 
Propertyvv 
(vv 
rvv 
=>vv  
rvv! "
.vv" #
CanModifyEventsvv# 2
)vv2 3
.vv3 4

IsRequiredvv4 >
(vv> ?
)vv? @
;vv@ A
entityww 
.ww 
Propertyww 
(ww 
rww 
=>ww  
rww! "
.ww" #
CanDeleteEventsww# 2
)ww2 3
.ww3 4

IsRequiredww4 >
(ww> ?
)ww? @
;ww@ A
entityxx 
.xx 
Propertyxx 
(xx 
rxx 
=>xx  
rxx! "
.xx" #
CanCreateUsersxx# 1
)xx1 2
.xx2 3

IsRequiredxx3 =
(xx= >
)xx> ?
;xx? @
entityyy 
.yy 
Propertyyy 
(yy 
ryy 
=>yy  
ryy! "
.yy" #
CanModifyUsersyy# 1
)yy1 2
.yy2 3

IsRequiredyy3 =
(yy= >
)yy> ?
;yy? @
entityzz 
.zz 
Propertyzz 
(zz 
rzz 
=>zz  
rzz! "
.zz" #
CanDeleteUserszz# 1
)zz1 2
.zz2 3

IsRequiredzz3 =
(zz= >
)zz> ?
;zz? @
}{{ 	
){{	 

;{{
 
modelBuilder}} 
.}} 
Entity}} 
<}} 
UserBo}} "
>}}" #
(}}# $
)}}$ %
.~~ 
HasOne~~ 
(~~ 
u~~ 
=>~~ 
u~~ 
.~~ 
Role~~ 
)~~  
. 
WithMany 
( 
r 
=> 
r 
. 
Users "
)" #
.
ÄÄ 
HasForeignKey
ÄÄ 
(
ÄÄ 
u
ÄÄ 
=>
ÄÄ 
u
ÄÄ  !
.
ÄÄ! "
RoleId
ÄÄ" (
)
ÄÄ( )
.
ÅÅ 
OnDelete
ÅÅ 
(
ÅÅ 
DeleteBehavior
ÅÅ $
.
ÅÅ$ %
SetNull
ÅÅ% ,
)
ÅÅ, -
;
ÅÅ- .
modelBuilder
ÉÉ 
.
ÉÉ 
Entity
ÉÉ 
<
ÉÉ 
PropositionBo
ÉÉ )
>
ÉÉ) *
(
ÉÉ* +
entity
ÉÉ+ 1
=>
ÉÉ2 4
{
ÑÑ 	
entity
ÖÖ 
.
ÖÖ 
HasKey
ÖÖ 
(
ÖÖ 
e
ÖÖ 
=>
ÖÖ 
e
ÖÖ  
.
ÖÖ  !
Id
ÖÖ! #
)
ÖÖ# $
.
ÖÖ$ %
HasName
ÖÖ% ,
(
ÖÖ, -
$str
ÖÖ- I
)
ÖÖI J
;
ÖÖJ K
entity
áá 
.
áá 
Property
áá 
(
áá 
e
áá 
=>
áá  
e
áá! "
.
áá" #
Title
áá# (
)
áá( )
.
àà 
HasMaxLength
àà 
(
àà 
$num
àà !
)
àà! "
.
ââ 
	IsUnicode
ââ 
(
ââ 
false
ââ  
)
ââ  !
.
ää 

IsRequired
ää 
(
ää 
)
ää 
;
ää 
entity
åå 
.
åå 
Property
åå 
(
åå 
e
åå 
=>
åå  
e
åå! "
.
åå" #
Description
åå# .
)
åå. /
.
çç 
HasColumnType
çç 
(
çç 
$str
çç %
)
çç% &
.
éé 

IsRequired
éé 
(
éé 
)
éé 
;
éé 
entity
êê 
.
êê 
Property
êê 
(
êê 
e
êê 
=>
êê  
e
êê! "
.
êê" #
	CreatedAt
êê# ,
)
êê, -
.
ëë 
HasColumnType
ëë 
(
ëë 
$str
ëë )
)
ëë) *
.
íí  
HasDefaultValueSql
íí #
(
íí# $
$str
íí$ 1
)
íí1 2
;
íí2 3
entity
îî 
.
îî 
Property
îî 
(
îî 
e
îî 
=>
îî  
e
îî! "
.
îî" #

ModifiedAt
îî# -
)
îî- .
.
ïï 
HasColumnType
ïï 
(
ïï 
$str
ïï )
)
ïï) *
;
ïï* +
entity
óó 
.
óó 
Property
óó 
(
óó 
e
óó 
=>
óó  
e
óó! "
.
óó" #
VotesUp
óó# *
)
óó* +
.
òò 
HasDefaultValue
òò  
(
òò  !
$num
òò! "
)
òò" #
;
òò# $
entity
öö 
.
öö 
Property
öö 
(
öö 
e
öö 
=>
öö  
e
öö! "
.
öö" #
	VotesDown
öö# ,
)
öö, -
.
õõ 
HasDefaultValue
õõ  
(
õõ  !
$num
õõ! "
)
õõ" #
;
õõ# $
entity
ùù 
.
ùù 
Property
ùù 
(
ùù 
e
ùù 
=>
ùù  
e
ùù! "
.
ùù" #
	IsDeleted
ùù# ,
)
ùù, -
.
ûû 
HasDefaultValue
ûû  
(
ûû  !
false
ûû! &
)
ûû& '
;
ûû' (
entity
†† 
.
†† 
Property
†† 
(
†† 
e
†† 
=>
††  
e
††! "
.
††" #
	DeletedAt
††# ,
)
††, -
.
°° 
HasColumnType
°° 
(
°° 
$str
°° )
)
°°) *
;
°°* +
entity
££ 
.
££ 
HasOne
££ 
(
££ 
d
££ 
=>
££ 
d
££  
.
££  !
User
££! %
)
££% &
.
§§ 
WithMany
§§ 
(
§§ 
p
§§ 
=>
§§ 
p
§§  
.
§§  !
Propositions
§§! -
)
§§- .
.
•• 
HasForeignKey
•• 
(
•• 
d
••  
=>
••! #
d
••$ %
.
••% &
UserId
••& ,
)
••, -
.
¶¶ 
OnDelete
¶¶ 
(
¶¶ 
DeleteBehavior
¶¶ (
.
¶¶( )
Cascade
¶¶) 0
)
¶¶0 1
.
ßß 
HasConstraintName
ßß "
(
ßß" #
$str
ßß# :
)
ßß: ;
;
ßß; <
}
®® 	
)
®®	 

;
®®
 
modelBuilder
™™ 
.
™™ 
Entity
™™ 
<
™™ 
PropositionVoteBo
™™ -
>
™™- .
(
™™. /
entity
™™/ 5
=>
™™6 8
{
´´ 	
entity
¨¨ 
.
¨¨ 
HasKey
¨¨ 
(
¨¨ 
e
¨¨ 
=>
¨¨ 
e
¨¨  
.
¨¨  !
Id
¨¨! #
)
¨¨# $
.
¨¨$ %
HasName
¨¨% ,
(
¨¨, -
$str
¨¨- M
)
¨¨M N
;
¨¨N O
entity
ØØ 
.
ØØ 
HasIndex
ØØ 
(
ØØ 
e
ØØ 
=>
ØØ  
new
ØØ! $
{
ØØ% &
e
ØØ' (
.
ØØ( )
UserId
ØØ) /
,
ØØ/ 0
e
ØØ1 2
.
ØØ2 3
PropositionId
ØØ3 @
}
ØØA B
,
ØØB C
$str
ØØD j
)
ØØj k
.
∞∞ 
IsUnique
∞∞ 
(
∞∞ 
)
∞∞ 
;
∞∞ 
entity
≤≤ 
.
≤≤ 
Property
≤≤ 
(
≤≤ 
e
≤≤ 
=>
≤≤  
e
≤≤! "
.
≤≤" #
VoteType
≤≤# +
)
≤≤+ ,
.
≥≥ 

IsRequired
≥≥ 
(
≥≥ 
)
≥≥ 
;
≥≥ 
entity
µµ 
.
µµ 
Property
µµ 
(
µµ 
e
µµ 
=>
µµ  
e
µµ! "
.
µµ" #
	CreatedAt
µµ# ,
)
µµ, -
.
∂∂ 
HasColumnType
∂∂ 
(
∂∂ 
$str
∂∂ )
)
∂∂) *
.
∑∑  
HasDefaultValueSql
∑∑ #
(
∑∑# $
$str
∑∑$ 1
)
∑∑1 2
.
∏∏ 

IsRequired
∏∏ 
(
∏∏ 
)
∏∏ 
;
∏∏ 
entity
∫∫ 
.
∫∫ 
Property
∫∫ 
(
∫∫ 
e
∫∫ 
=>
∫∫  
e
∫∫! "
.
∫∫" #
	UpdatedAt
∫∫# ,
)
∫∫, -
.
ªª 
HasColumnType
ªª 
(
ªª 
$str
ªª )
)
ªª) *
;
ªª* +
entity
ΩΩ 
.
ΩΩ 
HasOne
ΩΩ 
(
ΩΩ 
d
ΩΩ 
=>
ΩΩ 
d
ΩΩ  
.
ΩΩ  !
Proposition
ΩΩ! ,
)
ΩΩ, -
.
ææ 
WithMany
ææ 
(
ææ 
p
ææ 
=>
ææ 
p
ææ  
.
ææ  !
Votes
ææ! &
)
ææ& '
.
øø 
HasForeignKey
øø 
(
øø 
d
øø  
=>
øø! #
d
øø$ %
.
øø% &
PropositionId
øø& 3
)
øø3 4
.
¿¿ 
OnDelete
¿¿ 
(
¿¿ 
DeleteBehavior
¿¿ (
.
¿¿( )
Cascade
¿¿) 0
)
¿¿0 1
.
¡¡ 
HasConstraintName
¡¡ "
(
¡¡" #
$str
¡¡# E
)
¡¡E F
;
¡¡F G
entity
√√ 
.
√√ 
HasOne
√√ 
(
√√ 
d
√√ 
=>
√√ 
d
√√  
.
√√  !
User
√√! %
)
√√% &
.
ƒƒ 
WithMany
ƒƒ 
(
ƒƒ 
)
ƒƒ 
.
≈≈ 
HasForeignKey
≈≈ 
(
≈≈ 
d
≈≈  
=>
≈≈! #
d
≈≈$ %
.
≈≈% &
UserId
≈≈& ,
)
≈≈, -
.
∆∆ 
OnDelete
∆∆ 
(
∆∆ 
DeleteBehavior
∆∆ (
.
∆∆( )
Cascade
∆∆) 0
)
∆∆0 1
.
«« 
HasConstraintName
«« "
(
««" #
$str
««# >
)
««> ?
;
««? @
}
»» 	
)
»»	 

;
»»
 
modelBuilder
   
.
   
Entity
   
<
   

CalendarBo
   &
>
  & '
(
  ' (
entity
  ( .
=>
  / 1
{
ÀÀ 	
entity
ÃÃ 
.
ÃÃ 
HasKey
ÃÃ 
(
ÃÃ 
e
ÃÃ 
=>
ÃÃ 
e
ÃÃ  
.
ÃÃ  !
Id
ÃÃ! #
)
ÃÃ# $
.
ÃÃ$ %
HasName
ÃÃ% ,
(
ÃÃ, -
$str
ÃÃ- F
)
ÃÃF G
;
ÃÃG H
entity
ŒŒ 
.
ŒŒ 
Property
ŒŒ 
(
ŒŒ 
e
ŒŒ 
=>
ŒŒ  
e
ŒŒ! "
.
ŒŒ" #
Title
ŒŒ# (
)
ŒŒ( )
.
œœ 
HasMaxLength
œœ 
(
œœ 
$num
œœ !
)
œœ! "
.
–– 

IsRequired
–– 
(
–– 
)
–– 
;
–– 
entity
““ 
.
““ 
Property
““ 
(
““ 
e
““ 
=>
““  
e
““! "
.
““" #
	EventDate
““# ,
)
““, -
.
”” 
HasColumnType
”” 
(
”” 
$str
”” )
)
””) *
.
‘‘  
HasDefaultValueSql
‘‘ #
(
‘‘# $
$str
‘‘$ 1
)
‘‘1 2
.
’’ 

IsRequired
’’ 
(
’’ 
)
’’ 
;
’’ 
entity
◊◊ 
.
◊◊ 
HasOne
◊◊ 
(
◊◊ 
d
◊◊ 
=>
◊◊ 
d
◊◊  
.
◊◊  !
Event
◊◊! &
)
◊◊& '
.
ÿÿ 
WithMany
ÿÿ 
(
ÿÿ 
p
ÿÿ 
=>
ÿÿ 
p
ÿÿ  
.
ÿÿ  !
	Calendars
ÿÿ! *
)
ÿÿ* +
.
ŸŸ 
HasForeignKey
ŸŸ 
(
ŸŸ 
d
ŸŸ  
=>
ŸŸ! #
d
ŸŸ$ %
.
ŸŸ% &
EventId
ŸŸ& -
)
ŸŸ- .
.
⁄⁄ 
OnDelete
⁄⁄ 
(
⁄⁄ 
DeleteBehavior
⁄⁄ (
.
⁄⁄( )
SetNull
⁄⁄) 0
)
⁄⁄0 1
.
€€ 
HasConstraintName
€€ "
(
€€" #
$str
€€# 8
)
€€8 9
;
€€9 :
entity
›› 
.
›› 
HasOne
›› 
(
›› 
d
›› 
=>
›› 
d
››  
.
››  !
MainOrganizer
››! .
)
››. /
.
ﬁﬁ 
WithMany
ﬁﬁ 
(
ﬁﬁ 
)
ﬁﬁ 
.
ﬂﬂ 
HasForeignKey
ﬂﬂ 
(
ﬂﬂ 
d
ﬂﬂ  
=>
ﬂﬂ! #
d
ﬂﬂ$ %
.
ﬂﬂ% &
MainOrganizerId
ﬂﬂ& 5
)
ﬂﬂ5 6
.
‡‡ 
OnDelete
‡‡ 
(
‡‡ 
DeleteBehavior
‡‡ (
.
‡‡( )
SetNull
‡‡) 0
)
‡‡0 1
.
·· 
HasConstraintName
·· "
(
··" #
$str
··# ?
)
··? @
;
··@ A
entity
„„ 
.
„„ 
HasOne
„„ 
(
„„ 
d
„„ 
=>
„„ 
d
„„  
.
„„  !
EventManager
„„! -
)
„„- .
.
‰‰ 
WithMany
‰‰ 
(
‰‰ 
)
‰‰ 
.
ÂÂ 
HasForeignKey
ÂÂ 
(
ÂÂ 
d
ÂÂ  
=>
ÂÂ! #
d
ÂÂ$ %
.
ÂÂ% &
EventManagerId
ÂÂ& 4
)
ÂÂ4 5
.
ÊÊ 
OnDelete
ÊÊ 
(
ÊÊ 
DeleteBehavior
ÊÊ (
.
ÊÊ( )
SetNull
ÊÊ) 0
)
ÊÊ0 1
.
ÁÁ 
HasConstraintName
ÁÁ "
(
ÁÁ" #
$str
ÁÁ# >
)
ÁÁ> ?
;
ÁÁ? @
entity
ÈÈ 
.
ÈÈ 
HasOne
ÈÈ 
(
ÈÈ 
d
ÈÈ 
=>
ÈÈ 
d
ÈÈ  
.
ÈÈ  !
ResponsableCom
ÈÈ! /
)
ÈÈ/ 0
.
ÍÍ 
WithMany
ÍÍ 
(
ÍÍ 
)
ÍÍ 
.
ÎÎ 
HasForeignKey
ÎÎ 
(
ÎÎ 
d
ÎÎ  
=>
ÎÎ! #
d
ÎÎ$ %
.
ÎÎ% &
ResponsableComId
ÎÎ& 6
)
ÎÎ6 7
.
ÏÏ 
OnDelete
ÏÏ 
(
ÏÏ 
DeleteBehavior
ÏÏ (
.
ÏÏ( )
SetNull
ÏÏ) 0
)
ÏÏ0 1
.
ÌÌ 
HasConstraintName
ÌÌ "
(
ÌÌ" #
$str
ÌÌ# @
)
ÌÌ@ A
;
ÌÌA B
}
ÓÓ 	
)
ÓÓ	 

;
ÓÓ
 
modelBuilder
 
.
 
Entity
 
<
 $
CalendarSubOrganizerBo
 2
>
2 3
(
3 4
entity
4 :
=>
; =
{
ÒÒ 	
entity
ÚÚ 
.
ÚÚ 
HasKey
ÚÚ 
(
ÚÚ 
e
ÚÚ 
=>
ÚÚ 
new
ÚÚ "
{
ÚÚ# $
e
ÚÚ% &
.
ÚÚ& '

CalendarId
ÚÚ' 1
,
ÚÚ1 2
e
ÚÚ3 4
.
ÚÚ4 5
UserId
ÚÚ5 ;
}
ÚÚ< =
)
ÚÚ= >
;
ÚÚ> ?
entity
ÙÙ 
.
ÙÙ 
HasOne
ÙÙ 
(
ÙÙ 
d
ÙÙ 
=>
ÙÙ 
d
ÙÙ  
.
ÙÙ  !
Calendar
ÙÙ! )
)
ÙÙ) *
.
ıı 
WithMany
ıı 
(
ıı 
p
ıı 
=>
ıı 
p
ıı  
.
ıı  !#
CalendarSubOrganizers
ıı! 6
)
ıı6 7
.
ˆˆ 
HasForeignKey
ˆˆ 
(
ˆˆ 
d
ˆˆ  
=>
ˆˆ! #
d
ˆˆ$ %
.
ˆˆ% &

CalendarId
ˆˆ& 0
)
ˆˆ0 1
.
˜˜ 
OnDelete
˜˜ 
(
˜˜ 
DeleteBehavior
˜˜ (
.
˜˜( )
Cascade
˜˜) 0
)
˜˜0 1
.
¯¯ 
HasConstraintName
¯¯ "
(
¯¯" #
$str
¯¯# G
)
¯¯G H
;
¯¯H I
entity
˙˙ 
.
˙˙ 
HasOne
˙˙ 
(
˙˙ 
d
˙˙ 
=>
˙˙ 
d
˙˙  
.
˙˙  !
User
˙˙! %
)
˙˙% &
.
˚˚ 
WithMany
˚˚ 
(
˚˚ 
)
˚˚ 
.
¸¸ 
HasForeignKey
¸¸ 
(
¸¸ 
d
¸¸  
=>
¸¸! #
d
¸¸$ %
.
¸¸% &
UserId
¸¸& ,
)
¸¸, -
.
˝˝ 
OnDelete
˝˝ 
(
˝˝ 
DeleteBehavior
˝˝ (
.
˝˝( )
Cascade
˝˝) 0
)
˝˝0 1
.
˛˛ 
HasConstraintName
˛˛ "
(
˛˛" #
$str
˛˛# C
)
˛˛C D
;
˛˛D E
}
ˇˇ 	
)
ˇˇ	 

;
ˇˇ
 
modelBuilder
ÅÅ 
.
ÅÅ 
Entity
ÅÅ 
<
ÅÅ 
EventTemplateBo
ÅÅ +
>
ÅÅ+ ,
(
ÅÅ, -
entity
ÅÅ- 3
=>
ÅÅ4 6
{
ÇÇ 	
entity
ÉÉ 
.
ÉÉ 
HasKey
ÉÉ 
(
ÉÉ 
e
ÉÉ 
=>
ÉÉ 
e
ÉÉ  
.
ÉÉ  !
Id
ÉÉ! #
)
ÉÉ# $
.
ÉÉ$ %
HasName
ÉÉ% ,
(
ÉÉ, -
$str
ÉÉ- J
)
ÉÉJ K
;
ÉÉK L
entity
ÖÖ 
.
ÖÖ 
Property
ÖÖ 
(
ÖÖ 
e
ÖÖ 
=>
ÖÖ  
e
ÖÖ! "
.
ÖÖ" #
Title
ÖÖ# (
)
ÖÖ( )
.
ÜÜ 
HasMaxLength
ÜÜ 
(
ÜÜ 
$num
ÜÜ !
)
ÜÜ! "
.
áá 
	IsUnicode
áá 
(
áá 
false
áá  
)
áá  !
.
àà 

IsRequired
àà 
(
àà 
)
àà 
;
àà 
entity
ää 
.
ää 
Property
ää 
(
ää 
e
ää 
=>
ää  
e
ää! "
.
ää" #
Description
ää# .
)
ää. /
.
ãã 
HasColumnType
ãã 
(
ãã 
$str
ãã %
)
ãã% &
.
åå 

IsRequired
åå 
(
åå 
)
åå 
;
åå 
entity
éé 
.
éé 
Property
éé 
(
éé 
e
éé 
=>
éé  
e
éé! "
.
éé" #
	CreatedAt
éé# ,
)
éé, -
.
èè  
HasDefaultValueSql
èè #
(
èè# $
$str
èè$ 1
)
èè1 2
.
êê 
HasColumnType
êê 
(
êê 
$str
êê )
)
êê) *
;
êê* +
entity
íí 
.
íí 
Property
íí 
(
íí 
e
íí 
=>
íí  
e
íí! "
.
íí" #
SurveyJsData
íí# /
)
íí/ 0
.
ìì 
	IsUnicode
ìì 
(
ìì 
false
ìì  
)
ìì  !
.
îî 

IsRequired
îî 
(
îî 
)
îî 
;
îî 
}
ïï 	
)
ïï	 

;
ïï
 
base
öö 
.
öö 
OnModelCreating
öö 
(
öö 
modelBuilder
öö )
)
öö) *
;
öö* +$
OnModelCreatingPartial
õõ 
(
õõ 
modelBuilder
õõ +
)
õõ+ ,
;
õõ, -
}
úú 
partial
ùù 
void
ùù $
OnModelCreatingPartial
ùù '
(
ùù' (
ModelBuilder
ùù( 4
modelBuilder
ùù5 A
)
ùùA B
;
ùùB C
}ûû 